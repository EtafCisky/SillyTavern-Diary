/* ========================================= */
/* æ—¥è®°æœ¬æ’ä»¶ - å¤œé—´æŠ¤çœ¼ä¸»é¢˜ (Night Theme)   */
/* ä¸“ä¸ºå¤œé—´ä½¿ç”¨è®¾è®¡çš„æ·±è‰²æŠ¤çœ¼ä¸»é¢˜           */
/* ========================================= */

/* ========================================= */
/* ğŸŒ™ ç¬¬ä¸€æ­¥ï¼šè®¾è®¡ç†å¿µä¸è‰²å½©æ–¹æ¡ˆ              */
/* ========================================= */

/*
ğŸ¨ è®¾è®¡ç†å¿µï¼š
- å¤œç©ºæ·±é‚ƒï¼šä»¥æ·±é»‘è‰²ä¸ºä¸»åŸºè°ƒï¼Œæ¨¡æ‹Ÿé™è°§å¤œç©º
- æ˜Ÿå…‰ç‚¹ç¼€ï¼šé‡‘è‰²å…ƒç´ å¦‚æ˜Ÿè¾°èˆ¬ç‚¹ç¼€ï¼Œæ¸©æš–è€Œä¸åˆºçœ¼  
- æŠ¤çœ¼ä¼˜å…ˆï¼šä½è“å…‰é…è‰²ï¼Œå‡å°‘çœ¼éƒ¨ç–²åŠ³
- æ¸©æ¶¦è´¨æ„Ÿï¼šæš–è‰²è°ƒæ–‡æœ¬ï¼Œè¥é€ èˆ’é€‚çš„é˜…è¯»ç¯å¢ƒ
- æŸ”å’Œè¿‡æ¸¡ï¼šæ‰€æœ‰åŠ¨æ•ˆé‡‡ç”¨ç¼“æ…¢æ¸å˜ï¼Œé¿å…çªå…€é—ªçƒ
*/

/* ========== è‰²å½©ç³»ç»Ÿå®šä¹‰ ========== */

:root {
  /* ğŸ–¤ ä¸»è‰²è°ƒ - æ·±é‚ƒå¤œç©ºç³»åˆ— */
  --night-bg-primary: #0a0a0a;           /* æœ€æ·±èƒŒæ™¯ - æ·±é‚ƒå¤œç©º */
  --night-bg-secondary: #1a1a1a;         /* æ¬¡çº§èƒŒæ™¯ - æš—å¤œ */
  --night-bg-tertiary: #2a2a2a;          /* ä¸‰çº§èƒŒæ™¯ - é˜´å½± */
  --night-bg-content: #161616;           /* å†…å®¹èƒŒæ™¯ - ç‚­é»‘ */
  
  /* âœ¨ é‡‘è‰²ç‚¹ç¼€ç³»åˆ— - æ¸©æš–æ˜Ÿå…‰ */
  --night-gold-primary: #d4a574;         /* ä¸»é‡‘è‰² - æš–é‡‘ */
  --night-gold-secondary: #c19660;       /* æ¬¡é‡‘è‰² - å¤é“œ */
  --night-gold-accent: #e8c794;          /* äº®é‡‘è‰² - æ˜æ˜Ÿå…‰ */
  --night-gold-dim: #a67c52;             /* æš—é‡‘è‰² - æ·±é“œ */
  
  /* ğŸ“ æ–‡æœ¬é¢œè‰²ç³»åˆ— - æŠ¤çœ¼æš–è‰²è°ƒ */
  --night-text-primary: #e8d5b7;         /* ä¸»æ–‡æœ¬ - æš–ç±³è‰² */
  --night-text-secondary: #d4c4a8;       /* æ¬¡æ–‡æœ¬ - æ·¡ç±³è‰² */
  --night-text-tertiary: #b8a488;        /* ä¸‰çº§æ–‡æœ¬ - ç°ç±³è‰² */
  --night-text-dim: #9b8969;             /* æš—æ–‡æœ¬ - æ·±ç±³è‰² */
  
  /* ğŸ”¥ å¼ºè°ƒè‰²ç³»åˆ— - æ¸©æš–æç¤ºè‰² */
  --night-accent-warm: #d4a574;          /* æ¸©æš–å¼ºè°ƒ - é‡‘è‰² */
  --night-accent-danger: #d4737a;        /* å±é™©è‰² - æš–çº¢ */
  --night-accent-success: #7ab88d;       /* æˆåŠŸè‰² - æš–ç»¿ */
  --night-accent-info: #74a4d4;          /* ä¿¡æ¯è‰² - æš–è“ */
  
  /* ğŸŒŸ è¾¹æ¡†ä¸åˆ†éš”çº¿ç³»åˆ— */
  --night-border-primary: #3a3a3a;       /* ä¸»è¾¹æ¡† - æ·±ç° */
  --night-border-gold: #d4a574;          /* é‡‘è‰²è¾¹æ¡† */
  --night-border-subtle: #2a2a2a;        /* å¾®å¦™è¾¹æ¡† - å¾ˆæ·±ç° */
  --night-border-highlight: #4a4a4a;     /* é«˜äº®è¾¹æ¡† - ä¸­ç° */
  
  /* ğŸ’« é˜´å½±ä¸å…‰æ™•ç³»åˆ— */
  --night-shadow-soft: rgba(0, 0, 0, 0.6);           /* æŸ”å’Œé˜´å½± */
  --night-shadow-medium: rgba(0, 0, 0, 0.8);         /* ä¸­ç­‰é˜´å½± */
  --night-shadow-deep: rgba(0, 0, 0, 0.9);           /* æ·±é‡é˜´å½± */
  --night-glow-gold: rgba(212, 165, 116, 0.3);       /* é‡‘è‰²å…‰æ™• */
  --night-glow-warm: rgba(232, 213, 183, 0.2);       /* æš–è‰²å…‰æ™• */
  
  /* ğŸ­ é€æ˜åº¦ç³»åˆ— */
  --night-opacity-subtle: 0.1;           /* å¾®å¦™é€æ˜ */
  --night-opacity-light: 0.2;            /* è½»é€æ˜ */
  --night-opacity-medium: 0.4;           /* ä¸­ç­‰é€æ˜ */
  --night-opacity-heavy: 0.7;            /* é‡é€æ˜ */
  
  /* âš¡ åŠ¨ç”»æ—¶é—´ç³»åˆ— */
  --night-transition-fast: 0.2s;         /* å¿«é€Ÿè¿‡æ¸¡ */
  --night-transition-normal: 0.3s;       /* æ­£å¸¸è¿‡æ¸¡ */
  --night-transition-slow: 0.5s;         /* ç¼“æ…¢è¿‡æ¸¡ */
  --night-transition-very-slow: 0.8s;    /* éå¸¸ç¼“æ…¢ */
}

/* ========== æŠ¤çœ¼ä¼˜åŒ–çš„åŸºç¡€æ ·å¼ ========== */

/* å…¨å±€æŠ¤çœ¼è®¾ç½® */
* {
  /* å‡å°‘è“å…‰ï¼Œå¢å¼ºæš–è‰²è°ƒ */
  filter: hue-rotate(-5deg) saturate(0.9);
}

/* æ–‡æœ¬æ¸²æŸ“ä¼˜åŒ– */
body, 
.diary-book-content,
.diary-preset-content,
.diary-custom-character-content {
  /* ä¼˜åŒ–æ–‡æœ¬æ¸²æŸ“ï¼Œå‡å°‘çœ¼éƒ¨ç–²åŠ³ */
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* é€‰ä¸­æ–‡æœ¬çš„æŠ¤çœ¼é…è‰² */
::selection {
  background-color: var(--night-gold-primary);
  color: var(--night-bg-primary);
}

::-moz-selection {
  background-color: var(--night-gold-primary);
  color: var(--night-bg-primary);
}

/* ========== å…³é”®å¸§åŠ¨ç”»å®šä¹‰ ========== */

/* ğŸŒŸ æ˜Ÿå…‰é—ªçƒåŠ¨ç”» */
@keyframes nightSparkle {
  0%, 100% { 
    opacity: var(--night-opacity-medium); 
    transform: scale(1) rotate(0deg); 
  }
  50% { 
    opacity: var(--night-opacity-heavy); 
    transform: scale(1.1) rotate(180deg); 
  }
}

/* ğŸŒ™ æœˆå…‰æ‘‡æ‘†åŠ¨ç”» */
@keyframes nightGlow {
  0%, 100% { 
    box-shadow: 
      0 0 20px var(--night-glow-gold),
      0 0 40px var(--night-glow-warm);
  }
  50% { 
    box-shadow: 
      0 0 30px var(--night-glow-gold),
      0 0 60px var(--night-glow-warm);
  }
}

/* ğŸŒŠ å‘¼å¸æ•ˆæœåŠ¨ç”» */
@keyframes nightBreathe {
  0%, 100% { 
    transform: scale(1); 
    opacity: var(--night-opacity-medium); 
  }
  50% { 
    transform: scale(1.02); 
    opacity: var(--night-opacity-heavy); 
  }
}

/* âœ¨ å¾®å…‰æµè½¬åŠ¨ç”» */
@keyframes nightShimmer {
  0% { 
    transform: translateX(-100%) rotate(0deg);
    opacity: 0; 
  }
  50% { 
    opacity: var(--night-opacity-light);
    transform: translateX(0%) rotate(180deg);
  }
  100% { 
    transform: translateX(100%) rotate(360deg);
    opacity: 0; 
  }
}

/* ğŸ­ æ¸å…¥åŠ¨ç”» */
@keyframes nightFadeIn {
  from { 
    opacity: 0; 
    transform: translateY(20px) scale(0.95); 
  }
  to { 
    opacity: 1; 
    transform: translateY(0) scale(1); 
  }
}

/* ğŸŒŒ æµ®åŠ¨åŠ¨ç”» */
@keyframes nightFloat {
  0%, 100% { 
    transform: translateY(0px) rotate(0deg); 
  }
  25% { 
    transform: translateY(-3px) rotate(1deg); 
  }
  50% { 
    transform: translateY(-2px) rotate(0deg); 
  }
  75% { 
    transform: translateY(-4px) rotate(-1deg); 
  }
}

/* ========================================= */
/* ğŸ¯ ç¬¬ä¸€æ­¥å®Œæˆæ ‡è®°                         */
/* è®¾è®¡ç†å¿µå’Œè‰²å½©æ–¹æ¡ˆå·²å»ºç«‹                   */
/* ä¸‹ä¸€æ­¥ï¼šåŸºç¡€å®¹å™¨ä¸å¼¹çª—ç»“æ„                 */
/* ========================================= */

/* 
ğŸ“ ç¬¬ä¸€æ­¥æ€»ç»“ï¼š
âœ… å®Œæˆæ·±é‚ƒå¤œç©ºè‰²å½©ç³»ç»Ÿè®¾è®¡
âœ… å»ºç«‹é‡‘è‰²æ˜Ÿå…‰ç‚¹ç¼€é…è‰²æ–¹æ¡ˆ  
âœ… å®šä¹‰æŠ¤çœ¼ä¼˜åŒ–çš„CSSå˜é‡
âœ… åˆ›å»ºå¤œé—´ä¸»é¢˜ä¸“ç”¨åŠ¨ç”»æ•ˆæœ
âœ… è®¾ç½®å…¨å±€æŠ¤çœ¼æ–‡æœ¬æ¸²æŸ“ä¼˜åŒ–

ğŸ¨ æ ¸å¿ƒç‰¹è‰²ï¼š
- æ·±é‚ƒå¤œç©ºèƒŒæ™¯ (#0a0a0a)
- æ¸©æš–é‡‘è‰²ç‚¹ç¼€ (#d4a574)  
- æŠ¤çœ¼æš–è‰²æ–‡æœ¬ (#e8d5b7)
- æŸ”å’Œè¿‡æ¸¡åŠ¨ç”»
- ä½è“å…‰æ»¤é•œä¼˜åŒ–
*/

/* ========================================= */
/* ğŸŒŒ ç¬¬äºŒæ­¥ï¼šåŸºç¡€å®¹å™¨ä¸å¼¹çª—ç»“æ„              */
/* ========================================= */

/*
ğŸ¯ ç¬¬äºŒæ­¥ç›®æ ‡ï¼š
- åˆ›å»ºæ·±é‚ƒæ˜Ÿç©ºèƒŒæ™¯çš„å¼¹çª—é®ç½©å±‚
- è®¾è®¡é‡‘è‰²è¾¹æ¡†çš„ä¸»å®¹å™¨æ ·å¼
- å®ç°æŠ¤çœ¼çš„çº¸å¼ è´¨æ„Ÿæ•ˆæœ
- æ·»åŠ æ˜Ÿå…‰ç²’å­è£…é¥°åŠ¨ç”»
*/

/* ========== æ’ä»¶è®¾ç½®é¡µé¢æ ·å¼ ========== */

/* ä¸»è¦è®¾ç½®å®¹å™¨ */
.diary-plugin-settings {
  margin: 10px 0;
  background: linear-gradient(135deg, 
    var(--night-bg-secondary) 0%, 
    var(--night-bg-content) 100%);
  border: 1px solid var(--night-border-primary);
  border-radius: 8px;
  padding: 15px;
  box-shadow: 
    0 4px 12px var(--night-shadow-soft),
    inset 0 1px 0 var(--night-glow-warm);
}

/* è®¾ç½®åŒºåŸŸæ ‡é¢˜ */
.diary-plugin-settings h4 {
  color: var(--night-gold-accent);
  margin: 10px 0 8px 0;
  font-size: 14px;
  font-weight: bold;
  text-shadow: 0 1px 3px var(--night-shadow-soft);
}

/* è®¾ç½®é¡¹ç›®å®¹å™¨ */
.diary-setting-item {
  margin: 8px 0;
  align-items: center;
  gap: 10px;
}

.diary-setting-item label {
  color: var(--night-text-secondary);
  font-size: 13px;
  white-space: nowrap;
  min-width: 120px;
  text-shadow: 0 1px 2px var(--night-shadow-soft);
}

/* æ–‡æœ¬è¾“å…¥æ¡† */
.diary-setting-item input[type="text"] {
  flex: 1;
  max-width: 200px;
  background: var(--night-bg-content);
  color: var(--night-text-primary);
  border: 1px solid var(--night-border-primary);
  border-radius: 4px;
  padding: 8px;
  transition: all var(--night-transition-normal) ease;
}

.diary-setting-item input[type="text"]:focus {
  outline: none;
  border-color: var(--night-gold-primary);
  box-shadow: 0 0 0 2px var(--night-glow-gold);
}

/* å¤é€‰æ¡†æ ·å¼ */
.diary-setting-item input[type="checkbox"] {
  margin-right: 8px;
  accent-color: var(--night-gold-primary);
}

/* çŠ¶æ€æ–‡æœ¬ */
.diary-status-text {
  color: var(--night-text-tertiary);
  font-style: italic;
  font-size: 12px;
}

/* ä¿¡æ¯æ ‡ç­¾æ ·å¼ */
.diary-info-label {
  color: var(--night-text-secondary);
  font-size: 13px;
}

.diary-info-label strong {
  color: var(--night-text-primary);
}

/* åŠŸèƒ½æŒ‰é’®åŒºåŸŸ */
.diary-function-buttons {
  margin: 10px 0;
}

.diary-button-row {
  gap: 8px;
  flex-wrap: wrap;
}

/* ä¸»è¦åŠŸèƒ½æŒ‰é’® - å¤œé—´é‡‘è‰²è®¾è®¡ */
.diary-primary-btn {
  min-width: 80px;
  font-size: 12px !important;
  background: linear-gradient(145deg, 
    var(--night-gold-dim) 0%, 
    var(--night-gold-primary) 50%, 
    var(--night-gold-secondary) 100%) !important;
  border: 1px solid var(--night-gold-primary) !important;
  color: var(--night-bg-primary) !important;
  transition: all var(--night-transition-normal) ease;
  text-shadow: 0 1px 2px var(--night-shadow-soft);
  box-shadow: 
    0 2px 8px var(--night-shadow-soft),
    inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

.diary-primary-btn:hover {
  background: linear-gradient(145deg, 
    var(--night-gold-primary) 0%, 
    var(--night-gold-accent) 50%, 
    var(--night-gold-primary) 100%) !important;
  border-color: var(--night-gold-accent) !important;
  color: var(--night-bg-primary) !important;
  transform: translateY(-1px);
  box-shadow: 
    0 4px 12px var(--night-glow-gold),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
}

.diary-primary-btn:active {
  transform: translateY(0);
  box-shadow: 
    inset 0 2px 4px var(--night-shadow-soft),
    0 2px 6px var(--night-glow-gold);
}

/* æ™®é€šæŒ‰é’® */
.diary-plugin-settings .menu_button {
  margin: 2px;
  font-size: 12px;
  background: var(--night-bg-tertiary);
  color: var(--night-text-primary);
  border: 1px solid var(--night-border-primary);
  transition: all var(--night-transition-normal) ease;
}

.diary-plugin-settings .menu_button:hover {
  background: var(--night-bg-content);
  border-color: var(--night-gold-primary);
  color: var(--night-gold-accent);
}

/* ä¿¡æ¯æ–‡æœ¬åŒºåŸŸ */
.diary-info-text {
  margin: 10px 0;
  padding: 10px;
  background: linear-gradient(135deg, 
    var(--night-bg-content) 0%, 
    var(--night-bg-secondary) 100%);
  border-radius: 4px;
  border-left: 3px solid var(--night-gold-primary);
  box-shadow: inset 0 1px 3px var(--night-shadow-soft);
}

.diary-info-text p {
  margin: 0;
  color: var(--night-text-secondary);
  line-height: 1.4;
}

.diary-info-text strong {
  color: var(--night-text-primary);
}

/* è®¾ç½®åŒºåŸŸé—´è· */
.diary-settings-section,
.diary-presets-section,
.diary-functions-section,
.diary-status-section {
  margin: 15px 0;
}

/* æŠ½å±‰å±•å¼€çŠ¶æ€çš„é¢å¤–æ ·å¼ */
.inline-drawer-content .diary-plugin-settings {
  padding: 5px 0;
}

/* åˆ†éš”çº¿æ ·å¼è°ƒæ•´ */
.diary-plugin-settings .sysHR {
  margin: 15px 0;
  opacity: 0.3;
  background: linear-gradient(to right, 
    transparent, 
    var(--night-border-primary), 
    transparent);
  height: 1px;
  border: none;
}

/* ========== æ‚¬æµ®çª—æ ·å¼ - å¤œç©ºä¸»é¢˜ ========== */

/* æ‚¬æµ®çª—ä¸»å®¹å™¨ */
.diary-float-window {
  position: fixed;
  z-index: 99999;
  user-select: none;
  pointer-events: none;
}

.diary-float-window * {
  pointer-events: auto;
}

/* ä¸»æŒ‰é’®æ ·å¼ - æ·±é‚ƒå¤œç©ºé£æ ¼ */
.diary-float-main-btn {
  width: 56px;
  height: 56px;
  border-radius: 50%;
  background: 
    radial-gradient(circle at 30% 30%, var(--night-bg-tertiary) 0%, var(--night-bg-primary) 70%);
  border: 2px solid var(--night-gold-primary);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  box-shadow: 
    0 4px 12px var(--night-shadow-medium),
    0 0 20px var(--night-glow-gold),
    inset 0 1px 0 rgba(255, 255, 255, 0.1);
  transition: all var(--night-transition-normal) ease;
  position: relative;
  overflow: hidden;
}

/* ä¸»æŒ‰é’®æ˜Ÿå…‰æ•ˆæœ */
.diary-float-main-btn::before {
  content: '';
  position: absolute;
  top: -2px;
  left: -2px;
  right: -2px;
  bottom: -2px;
  background: conic-gradient(
    var(--night-gold-primary) 0deg,
    transparent 90deg,
    var(--night-gold-accent) 180deg,
    transparent 270deg,
    var(--night-gold-primary) 360deg
  );
  border-radius: 50%;
  animation: nightShimmer 3s linear infinite;
  z-index: -1;
}

.diary-float-main-btn:hover {
  background: 
    radial-gradient(circle at 30% 30%, var(--night-bg-content) 0%, var(--night-bg-secondary) 70%);
  border-color: var(--night-gold-accent);
  box-shadow: 
    0 6px 16px var(--night-shadow-medium),
    0 0 30px var(--night-glow-gold),
    inset 0 1px 0 rgba(255, 255, 255, 0.15);
  transform: translateY(-2px);
}

.diary-float-main-btn.diary-float-expanded {
  background: 
    radial-gradient(circle at 30% 30%, var(--night-accent-danger) 0%, #8b0000 70%);
  border-color: var(--night-accent-danger);
  transform: scale(1.1);
}

.diary-float-main-btn.diary-float-expanded:hover {
  background: 
    radial-gradient(circle at 30% 30%, #ff4444 0%, var(--night-accent-danger) 70%);
  border-color: #ff6666;
}

/* ä¸»æŒ‰é’®å›¾æ ‡ */
.diary-float-icon {
  font-size: 24px;
  color: var(--night-gold-accent);
  text-shadow: 
    0 1px 2px var(--night-shadow-soft),
    0 0 10px var(--night-glow-gold);
  animation: nightSparkle 4s ease-in-out infinite;
}

.diary-float-expanded .diary-float-icon {
  color: var(--night-text-primary);
  animation: none;
}

/* èœå•å®¹å™¨ */
.diary-float-menu {
  position: absolute;
  top: 0;
  left: 0;
  width: 56px;
  height: 56px;
}

/* å­æŒ‰é’®åŸºç¡€æ ·å¼ - æ˜Ÿå…‰å­æ˜Ÿè®¾è®¡ */
.diary-float-sub-btn {
  position: absolute;
  width: 48px;
  height: 48px;
  border-radius: 50%;
  background: 
    radial-gradient(circle at 30% 30%, var(--night-bg-tertiary) 0%, var(--night-bg-primary) 70%);
  border: 2px solid var(--night-gold-secondary);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  box-shadow: 
    0 3px 8px var(--night-shadow-medium),
    0 0 15px var(--night-glow-gold),
    inset 0 1px 0 rgba(255, 255, 255, 0.1);
  transition: all var(--night-transition-normal) ease;
  opacity: 0;
  transform: scale(0.5);
  animation: diary-float-btn-appear var(--night-transition-slow) ease forwards;
}

.diary-float-sub-btn:hover {
  background: 
    radial-gradient(circle at 30% 30%, var(--night-bg-content) 0%, var(--night-bg-secondary) 70%);
  border-color: var(--night-gold-accent);
  box-shadow: 
    0 4px 12px var(--night-shadow-medium),
    0 0 25px var(--night-glow-gold),
    inset 0 1px 0 rgba(255, 255, 255, 0.15);
  transform: scale(1.1);
}

.diary-float-sub-btn span {
  font-size: 20px;
  color: var(--night-gold-accent);
  text-shadow: 
    0 1px 2px var(--night-shadow-soft),
    0 0 8px var(--night-glow-gold);
}

/* å­æŒ‰é’®ä½ç½® */
.diary-float-book-btn {
  top: -60px;
  left: 4px;
  animation-delay: 0.1s;
}

.diary-float-write-btn {
  top: -42px;
  left: -42px;
  animation-delay: 0.15s;
}

.diary-float-record-btn {
  top: -42px;
  left: 50px;
  animation-delay: 0.2s;
}

/* å­æŒ‰é’®å‡ºç°åŠ¨ç”» */
@keyframes diary-float-btn-appear {
  to {
    opacity: 1;
    transform: scale(1);
  }
}

/* æ‹–æ‹½æ—¶çš„æ ·å¼ */
.diary-float-window.dragging {
  cursor: grabbing;
}

.diary-float-window.dragging .diary-float-main-btn {
  cursor: grabbing;
  transform: scale(0.95);
  box-shadow: 
    0 2px 8px var(--night-shadow-medium),
    0 0 15px var(--night-glow-gold);
}

/* ========== ä¸»å¼¹çª—å®¹å™¨ - æ·±é‚ƒæ˜Ÿç©ºè®¾è®¡ ========== */

/* å¼¹çª—é®ç½©å±‚ - æ˜Ÿç©ºèƒŒæ™¯ */
.diary-book-dialog,
.diary-preset-dialog,
.diary-custom-character-dialog {
  background: 
    /* æ˜Ÿç©ºç²’å­æ•ˆæœ */
    radial-gradient(circle at 20% 10%, var(--night-glow-gold) 0%, transparent 2px),
    radial-gradient(circle at 80% 30%, var(--night-glow-gold) 0%, transparent 1px),
    radial-gradient(circle at 30% 70%, var(--night-glow-warm) 0%, transparent 1px),
    radial-gradient(circle at 70% 90%, var(--night-glow-gold) 0%, transparent 2px),
    radial-gradient(circle at 10% 50%, var(--night-glow-warm) 0%, transparent 1px),
    radial-gradient(circle at 90% 20%, var(--night-glow-gold) 0%, transparent 1px),
    /* æ·±é‚ƒå¤œç©ºæ¸å˜ */
    radial-gradient(ellipse at 30% 20%, rgba(212, 165, 116, 0.08) 0%, transparent 50%),
    radial-gradient(ellipse at 70% 80%, rgba(232, 213, 183, 0.06) 0%, transparent 50%),
    linear-gradient(145deg, 
      var(--night-bg-primary) 0%, 
      #050505 30%, 
      var(--night-bg-primary) 70%, 
      #000000 100%) !important;
  backdrop-filter: blur(8px) brightness(0.7) !important;
  -webkit-backdrop-filter: blur(8px) brightness(0.7) !important;
  animation: nightFadeIn var(--night-transition-very-slow) ease !important;
}

/* ä¸ºä¸æ”¯æŒbackdrop-filterçš„æµè§ˆå™¨æä¾›fallback */
@supports not (backdrop-filter: blur(8px)) {
  .diary-book-dialog,
  .diary-preset-dialog,
  .diary-custom-character-dialog {
    background: 
      /* æ˜Ÿç©ºç²’å­æ•ˆæœï¼ˆå¢å¼ºç‰ˆï¼‰ */
      radial-gradient(circle at 20% 10%, rgba(212, 165, 116, 0.4) 0%, transparent 3px),
      radial-gradient(circle at 80% 30%, rgba(212, 165, 116, 0.3) 0%, transparent 2px),
      radial-gradient(circle at 30% 70%, rgba(232, 213, 183, 0.3) 0%, transparent 2px),
      radial-gradient(circle at 70% 90%, rgba(212, 165, 116, 0.4) 0%, transparent 3px),
      radial-gradient(circle at 10% 50%, rgba(232, 213, 183, 0.3) 0%, transparent 2px),
      radial-gradient(circle at 90% 20%, rgba(212, 165, 116, 0.3) 0%, transparent 2px),
      /* æ·±é‚ƒå¤œç©ºæ¸å˜ï¼ˆå¢å¼ºç‰ˆï¼‰ */
      radial-gradient(ellipse at 30% 20%, rgba(212, 165, 116, 0.12) 0%, transparent 60%),
      radial-gradient(ellipse at 70% 80%, rgba(232, 213, 183, 0.10) 0%, transparent 60%),
      linear-gradient(145deg, 
        rgba(10, 10, 10, 0.95) 0%, 
        rgba(5, 5, 5, 0.98) 30%, 
        rgba(10, 10, 10, 0.95) 70%, 
        rgba(0, 0, 0, 1) 100%) !important;
  }
}

/* ä¸»å†…å®¹å®¹å™¨ - å¤œé—´ä¹¦å·è´¨æ„Ÿ */
.diary-book-content,
.diary-preset-content {
  background: 
    /* å¤œé—´çº¸å¼ çº¹ç† */
    linear-gradient(145deg, 
      var(--night-bg-secondary) 0%, 
      var(--night-bg-content) 30%, 
      #1f1f1f 70%, 
      var(--night-bg-secondary) 100%) !important;
  color: var(--night-text-primary) !important;
  border: 3px solid var(--night-gold-primary) !important;
  border-radius: 16px !important;
  box-shadow: 
    /* å¤–éƒ¨é˜´å½± - æ·±é‚ƒå¤œç©ºæ„Ÿ */
    0 30px 100px var(--night-shadow-deep),
    0 15px 60px rgba(212, 165, 116, 0.2),
    0 8px 30px rgba(232, 213, 183, 0.15),
    /* å†…éƒ¨å…‰æ™• - é‡‘è‰²è£…é¥°è¾¹ç¼˜ */
    inset 0 2px 0 rgba(212, 165, 116, 0.3),
    inset 0 -2px 0 rgba(26, 26, 26, 0.8),
    /* ç¯ç»•å…‰æ™• - æ˜Ÿå…‰æ•ˆæœ */
    0 0 40px var(--night-glow-gold) !important;
  position: relative !important;
  overflow: hidden !important;
  animation: nightBreathe 6s ease-in-out infinite !important;
}

/* ä¸»å®¹å™¨çº¸å¼ çº¹ç†æ•ˆæœ */
.diary-book-content::before,
.diary-preset-content::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: 
    /* ç»†è…»çš„å¤œé—´çº¸å¼ çº¹ç† */
    repeating-linear-gradient(
      0deg,
      transparent,
      transparent 28px,
      rgba(212, 165, 116, 0.03) 28px,
      rgba(212, 165, 116, 0.03) 30px
    ),
    /* æœˆå…‰ç…§å°„æ•ˆæœ */
    radial-gradient(ellipse at 20% 20%, rgba(232, 213, 183, 0.08) 0%, transparent 60%),
    radial-gradient(ellipse at 80% 80%, rgba(212, 165, 116, 0.06) 0%, transparent 60%);
  pointer-events: none;
  z-index: 0;
}

/* å·¦ä¾§è£…è®¢çº¿æ•ˆæœ - é‡‘è‰²è£…é¥° */
.diary-book-content::after,
.diary-preset-content::after {
  content: '';
  position: absolute;
  left: 25px;
  top: 0;
  bottom: 0;
  width: 3px;
  background: 
    linear-gradient(to bottom, 
      transparent 0%, 
      var(--night-gold-dim) 15%, 
      var(--night-gold-primary) 50%, 
      var(--night-gold-dim) 85%, 
      transparent 100%
    );
  box-shadow: 
    2px 0 0 rgba(212, 165, 116, 0.4),
    5px 0 0 rgba(232, 213, 183, 0.2),
    1px 0 10px var(--night-glow-gold);
  z-index: 1;
}

/* æ‚¬åœæ•ˆæœ - å¢å¼ºæ˜Ÿå…‰ */
.diary-book-content:hover,
.diary-preset-content:hover {
  box-shadow: 
    0 35px 120px var(--night-shadow-deep),
    0 20px 80px rgba(212, 165, 116, 0.3),
    0 12px 40px rgba(232, 213, 183, 0.25),
    inset 0 3px 0 rgba(212, 165, 116, 0.4),
    inset 0 -2px 0 rgba(26, 26, 26, 0.8),
    0 0 60px var(--night-glow-gold) !important;
  animation-play-state: paused;
  transform: scale(1.01);
}

/* ========== è‡ªå®šä¹‰è§’è‰²å¼¹çª—ç‰¹æ®Šæ ·å¼ ========== */

.diary-custom-character-content {
  background: 
    linear-gradient(145deg, 
      var(--night-bg-secondary) 0%, 
      var(--night-bg-content) 50%, 
      #1f1f1f 100%) !important;
  border: 2px solid var(--night-gold-primary) !important;
  border-radius: 12px !important;
  box-shadow: 
    0 15px 40px var(--night-shadow-medium),
    0 0 30px var(--night-glow-gold),
    inset 0 1px 0 rgba(212, 165, 116, 0.2),
    inset 0 -1px 0 rgba(26, 26, 26, 0.6) !important;
  animation: nightFadeIn var(--night-transition-normal) ease !important;
}

/* è‡ªå®šä¹‰è§’è‰²å¼¹çª—çº¹ç† */
.diary-custom-character-content::before {
  content: '';
  position: absolute;
  top: 6px;
  left: 6px;
  right: 6px;
  bottom: 6px;
  border-radius: 10px;
  background: 
    repeating-linear-gradient(
      0deg, 
      transparent, 
      transparent 26px, 
      rgba(212, 165, 116, 0.04) 26px, 
      rgba(212, 165, 116, 0.04) 28px
    ),
    radial-gradient(circle at 30% 30%, rgba(232, 213, 183, 0.06) 0%, transparent 50%);
  pointer-events: none;
  z-index: 0;
}

/* è‡ªå®šä¹‰è§’è‰²å¼¹çª—è£…é¥°çº¿ */
.diary-custom-character-content::after {
  content: '';
  position: absolute;
  left: 20px;
  top: 4px;
  bottom: 4px;
  width: 2px;
  background: 
    linear-gradient(to bottom, 
      var(--night-gold-dim), 
      var(--night-gold-primary), 
      var(--night-gold-dim)
    );
  box-shadow: 
    1px 0 0 rgba(255, 255, 255, 0.1), 
    -1px 0 0 rgba(212, 165, 116, 0.2);
  border-radius: 2px;
  z-index: 0;
}

/* ========================================= */
/* ğŸ¯ ç¬¬äºŒæ­¥å®Œæˆæ ‡è®°                         */
/* åŸºç¡€å®¹å™¨ä¸å¼¹çª—ç»“æ„å·²å»ºç«‹                   */
/* ä¸‹ä¸€æ­¥ï¼šæ ‡é¢˜æ ä¸å¯¼èˆªç•Œé¢                   */
/* ========================================= */

/* 
ğŸ“ ç¬¬äºŒæ­¥æ€»ç»“ï¼š
âœ… å®Œæˆæ·±é‚ƒæ˜Ÿç©ºèƒŒæ™¯çš„å¼¹çª—é®ç½©å±‚è®¾è®¡
âœ… åˆ›å»ºé‡‘è‰²è¾¹æ¡†çš„ä¸»å®¹å™¨æ ·å¼
âœ… å®ç°æŠ¤çœ¼çš„å¤œé—´çº¸å¼ è´¨æ„Ÿæ•ˆæœ  
âœ… æ·»åŠ æ˜Ÿå…‰ç²’å­è£…é¥°åŠ¨ç”»
âœ… è®¾ç½®æ‚¬æµ®çª—çš„å¤œç©ºä¸»é¢˜æ ·å¼

ğŸŒŒ æ ¸å¿ƒç‰¹è‰²ï¼š
- æ˜Ÿç©ºç²’å­èƒŒæ™¯æ•ˆæœ
- é‡‘è‰²è£…è®¢çº¿è£…é¥°
- å‘¼å¸åŠ¨ç”»æ•ˆæœ
- æœˆå…‰ç…§å°„çº¹ç†
- backdrop-filterä¼˜åŒ–
*/

/* ========================================= */
/* ğŸŒŸ ç¬¬ä¸‰æ­¥ï¼šæ ‡é¢˜æ ä¸å¯¼èˆªç•Œé¢                */
/* ========================================= */

/*
ğŸ¯ ç¬¬ä¸‰æ­¥ç›®æ ‡ï¼š
- è®¾è®¡æ·±è‰²çš®é©è´¨æ„Ÿçš„æ ‡é¢˜æ 
- æ·»åŠ é‡‘è‰²è£…é¥°å…ƒç´ å’Œå¾®å…‰æ•ˆæœ
- ä¼˜åŒ–æŒ‰é’®çš„å¤œé—´å¯è§æ€§
- åˆ›å»ºå¯¼èˆªç•Œé¢çš„æ˜Ÿå…‰ä¸»é¢˜
*/

/* ========== å¼¹çª—æ ‡é¢˜æ æ ·å¼ - æ·±é‚ƒçš®é©è´¨æ„Ÿ ========== */

/* ä¸»æ ‡é¢˜æ  - æ·±å¤œçš®é©é£æ ¼ */
.diary-book-header,
.diary-preset-header {
  background: 
    /* æ·±é‚ƒçš®é©çº¹ç†æ¸å˜ */
    linear-gradient(135deg, 
      #2d1810 0%, 
      #1f0e08 25%, 
      #2d1810 50%,
      #1f0e08 75%,
      #160a05 100%
    ) !important;
  box-shadow: 
    /* å¤–éƒ¨é˜´å½± - æ·±é‚ƒæ„Ÿ */
    0 4px 15px var(--night-shadow-deep),
    /* å†…éƒ¨å…‰çº¿ - é‡‘è‰²è¾¹ç¼˜å…‰ */
    inset 0 2px 0 rgba(212, 165, 116, 0.3),
    inset 0 -1px 0 rgba(0, 0, 0, 0.6),
    /* ç¯ç»•å…‰æ™• */
    0 0 20px var(--night-glow-gold) !important;
  border-bottom: 3px solid var(--night-gold-primary) !important;
  overflow: hidden;
  position: relative;
  padding: 26px 30px 22px !important;
  border-radius: 16px 16px 0 0 !important;
}

/* æ ‡é¢˜æ æ˜Ÿå…‰è£…é¥°åŠ¨ç”» */
.diary-book-header::before,
.diary-preset-header::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 0;
  right: 0;
  height: 2px;
  background: linear-gradient(90deg, 
    transparent 0%, 
    rgba(212, 165, 116, 0.6) 20%, 
    var(--night-gold-accent) 50%, 
    rgba(212, 165, 116, 0.6) 80%, 
    transparent 100%
  );
  animation: nightShimmer 5s ease-in-out infinite;
  transform: translateY(-50%);
  z-index: 1;
}

/* æ ‡é¢˜æ æ˜Ÿå°˜æ•ˆæœ */
.diary-book-header::after,
.diary-preset-header::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-image: 
    /* æ˜Ÿå°˜ç²’å­ */
    radial-gradient(circle at 15% 30%, rgba(212, 165, 116, 0.4) 1px, transparent 1px),
    radial-gradient(circle at 85% 20%, rgba(232, 213, 183, 0.3) 1px, transparent 1px),
    radial-gradient(circle at 40% 70%, rgba(212, 165, 116, 0.3) 1px, transparent 1px),
    radial-gradient(circle at 70% 60%, rgba(232, 213, 183, 0.4) 1px, transparent 1px);
  background-size: 120px 60px, 80px 40px, 100px 50px, 90px 45px;
  animation: nightFloat 8s ease-in-out infinite;
  opacity: 0.6;
  pointer-events: none;
  z-index: 0;
}

/* å¼¹çª—æ ‡é¢˜æ–‡å­— - æ˜Ÿå…‰æ–‡å­— */
.diary-book-title,
.diary-preset-title {
  color: var(--night-gold-accent) !important;
  font-size: 22px !important;
  font-weight: 800 !important;
  text-shadow: 
    /* æ·±å±‚é˜´å½± */
    2px 2px 4px var(--night-shadow-deep),
    /* é‡‘è‰²å…‰æ™• */
    0 0 15px var(--night-glow-gold),
    0 0 30px rgba(212, 165, 116, 0.2) !important;
  letter-spacing: 1px !important;
  font-family: 'Georgia', 'Times New Roman', serif !important;
  margin: 0 !important;
  position: relative !important;
  z-index: 2 !important;
  animation: nightSparkle 6s ease-in-out infinite;
}

/* å…³é—­æŒ‰é’® - æ˜Ÿå…‰å…³é—­æŒ‰é’® */
.diary-book-close,
.diary-preset-close {
  background: 
    /* æ·±é‚ƒæŒ‰é’®èƒŒæ™¯ */
    radial-gradient(circle at center, 
      rgba(212, 165, 116, 0.2) 0%, 
      rgba(139, 46, 46, 0.1) 70%) !important;
  border: 2px solid rgba(212, 165, 116, 0.4) !important;
  color: var(--night-gold-accent) !important;
  backdrop-filter: blur(10px);
  border-radius: 50% !important;
  width: 35px !important;
  height: 35px !important;
  position: relative;
  overflow: hidden;
  cursor: pointer;
  transition: all var(--night-transition-normal) ease;
  z-index: 2;
}

/* å…³é—­æŒ‰é’®æ˜Ÿå…‰ç¯ç»•æ•ˆæœ */
.diary-book-close::before,
.diary-preset-close::before {
  content: '';
  position: absolute;
  top: -2px;
  left: -2px;
  right: -2px;
  bottom: -2px;
  background: conic-gradient(
    var(--night-gold-primary) 0deg,
    transparent 60deg,
    var(--night-gold-accent) 180deg,
    transparent 240deg,
    var(--night-gold-primary) 360deg
  );
  border-radius: 50%;
  animation: nightShimmer 2s linear infinite;
  z-index: -1;
  opacity: 0;
  transition: opacity var(--night-transition-normal) ease;
}

/* å…³é—­æŒ‰é’®å±é™©æŒ‡ç¤ºæ•ˆæœ */
.diary-book-close::after,
.diary-preset-close::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: radial-gradient(
    circle at center, 
    transparent 0%, 
    rgba(139, 46, 46, 0.3) 100%
  );
  transform: scale(0);
  transition: transform var(--night-transition-normal) ease;
  border-radius: 50%;
}

.diary-book-close:hover,
.diary-preset-close:hover {
  background: 
    radial-gradient(circle at center, 
      rgba(139, 46, 46, 0.8) 0%, 
      #8b0000 70%) !important;
  border-color: var(--night-accent-danger) !important;
  color: var(--night-text-primary) !important;
  transform: scale(1.15) !important;
  box-shadow: 
    0 8px 25px rgba(139, 46, 46, 0.5),
    0 0 30px rgba(139, 46, 46, 0.3),
    inset 0 2px 10px rgba(255, 255, 255, 0.1) !important;
}

.diary-book-close:hover::before,
.diary-preset-close:hover::before {
  opacity: 1;
}

.diary-book-close:hover::after,
.diary-preset-close:hover::after {
  transform: scale(1);
}

/* ========== å¯¼èˆªç•Œé¢æ ·å¼ - æ˜Ÿå…‰å¯¼èˆª ========== */

/* å¯¼èˆªå¤´éƒ¨å®¹å™¨ */
.diary-book-nav-header {
  display: flex;
  align-items: center;
  padding: 15px 20px;
  background: 
    linear-gradient(135deg, 
      var(--night-bg-secondary) 0%, 
      var(--night-bg-content) 100%) !important;
  border-bottom: 2px solid var(--night-gold-primary) !important;
  box-shadow: 
    0 2px 8px var(--night-shadow-soft),
    inset 0 1px 0 rgba(212, 165, 116, 0.2) !important;
  position: relative;
}

/* å¯¼èˆªå¤´éƒ¨æ˜Ÿå…‰è£…é¥° */
.diary-book-nav-header::before,
.diary-book-nav-header::after {
  content: 'âœ¦';
  position: absolute;
  color: var(--night-gold-primary);
  font-size: 18px;
  top: 50%;
  transform: translateY(-50%);
  animation: nightSparkle 3s ease-in-out infinite;
  text-shadow: 0 0 10px var(--night-glow-gold);
}

.diary-book-nav-header::before {
  left: 15px;
}

.diary-book-nav-header::after {
  right: 15px;
  animation-delay: 1.5s;
}

/* å¯¼èˆªæŒ‰é’® - æ˜Ÿå…‰å¯¼èˆªæŒ‰é’® */
.diary-book-nav-btn {
  background: 
    linear-gradient(135deg, 
      var(--night-gold-dim) 0%, 
      var(--night-gold-primary) 50%, 
      var(--night-gold-secondary) 100%) !important;
  color: var(--night-bg-primary) !important;
  border: 2px solid var(--night-gold-primary) !important;
  padding: 10px 20px !important;
  border-radius: 20px !important;
  cursor: pointer;
  font-size: 14px !important;
  font-weight: 600 !important;
  transition: all var(--night-transition-normal) ease;
  text-shadow: 0 1px 2px var(--night-shadow-soft) !important;
  box-shadow: 
    0 4px 12px var(--night-shadow-soft),
    0 0 15px var(--night-glow-gold),
    inset 0 1px 0 rgba(255, 255, 255, 0.2) !important;
  position: relative;
  overflow: hidden;
}

/* å¯¼èˆªæŒ‰é’®æ˜Ÿå…‰æµè½¬æ•ˆæœ */
.diary-book-nav-btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, 
    transparent, 
    rgba(255, 255, 255, 0.3), 
    transparent
  );
  transition: left var(--night-transition-slow) ease;
  border-radius: 20px;
}

.diary-book-nav-btn:hover {
  background: 
    linear-gradient(135deg, 
      var(--night-gold-primary) 0%, 
      var(--night-gold-accent) 50%, 
      var(--night-gold-primary) 100%) !important;
  transform: translateY(-2px) scale(1.05) !important;
  box-shadow: 
    0 8px 20px var(--night-shadow-medium),
    0 0 25px var(--night-glow-gold),
    inset 0 2px 0 rgba(255, 255, 255, 0.3),
    0 0 40px rgba(212, 165, 116, 0.2) !important;
}

.diary-book-nav-btn:hover::before {
  left: 100%;
}

/* å¯¼èˆªæ ‡é¢˜ */
.diary-book-view-title {
  margin: 0;
  color: var(--night-gold-accent);
  font-size: 18px !important;
  font-weight: 700 !important;
  flex: 1;
  text-align: center;
  font-family: 'Georgia', 'Times New Roman', serif !important;
  text-shadow: 
    0 1px 3px var(--night-shadow-soft),
    0 0 10px var(--night-glow-gold);
}

/* å¯¼èˆªå ä½ç¬¦ */
.diary-book-nav-spacer {
  width: 80px;
}

/* ========================================= */
/* ğŸ¯ ç¬¬ä¸‰æ­¥å®Œæˆæ ‡è®°                         */
/* æ ‡é¢˜æ ä¸å¯¼èˆªç•Œé¢å·²å»ºç«‹                     */
/* ä¸‹ä¸€æ­¥ï¼šå†…å®¹åŒºåŸŸä¸æ–‡æœ¬æ˜¾ç¤º                 */
/* ========================================= */

/* 
ğŸ“ ç¬¬ä¸‰æ­¥æ€»ç»“ï¼š
âœ… å®Œæˆæ·±è‰²çš®é©è´¨æ„Ÿçš„æ ‡é¢˜æ è®¾è®¡
âœ… æ·»åŠ é‡‘è‰²è£…é¥°å…ƒç´ å’Œå¾®å…‰æ•ˆæœ
âœ… ä¼˜åŒ–æŒ‰é’®çš„å¤œé—´å¯è§æ€§
âœ… åˆ›å»ºå¯¼èˆªç•Œé¢çš„æ˜Ÿå…‰ä¸»é¢˜
âœ… è®¾è®¡å…³é—­æŒ‰é’®çš„æ˜Ÿå…‰ç¯ç»•æ•ˆæœ

ğŸŒŸ æ ¸å¿ƒç‰¹è‰²ï¼š
- æ·±é‚ƒçš®é©çº¹ç†æ ‡é¢˜æ 
- æ˜Ÿå…‰è£…é¥°åŠ¨ç”»
- é‡‘è‰²æµè½¬å…‰æ•ˆ
- å±é™©æŒ‡ç¤ºæ•ˆæœ
- æ˜Ÿå°˜ç²’å­èƒŒæ™¯
*/

/* ========================================= */
/* ğŸ“– ç¬¬å››æ­¥ï¼šå†…å®¹åŒºåŸŸä¸æ–‡æœ¬æ˜¾ç¤º              */
/* ========================================= */

/*
ğŸ¯ ç¬¬å››æ­¥ç›®æ ‡ï¼š
- è®¾è®¡æŠ¤çœ¼çš„å†…å®¹èƒŒæ™¯è‰²
- ä¼˜åŒ–æ–‡å­—å¯¹æ¯”åº¦å’Œå¯è¯»æ€§
- å®ç°æš–è‰²è°ƒçš„æ–‡æœ¬æ¸²æŸ“
- åˆ›å»ºå¤œé—´å‹å¥½çš„åˆ—è¡¨å’Œå¡ç‰‡æ ·å¼
*/

/* ========== å¼¹çª—å†…å®¹åŒºåŸŸ - æŠ¤çœ¼é˜…è¯»ä¼˜åŒ– ========== */

/* å¼¹çª—ä¸»ä½“å†…å®¹åŒºåŸŸ */
.diary-book-body,
.diary-preset-body {
  padding: 35px 40px !important;
  overflow-y: auto !important;
  overflow-x: hidden !important;
  max-height: 65vh !important;
  min-height: 200px !important;
  background: 
    /* æŠ¤çœ¼æ¸å˜èƒŒæ™¯ */
    radial-gradient(ellipse at 95% 5%, rgba(232, 213, 183, 0.08) 0%, transparent 50%),
    radial-gradient(ellipse at 5% 95%, rgba(212, 165, 116, 0.06) 0%, transparent 50%),
    linear-gradient(135deg, 
      var(--night-bg-content) 0%, 
      var(--night-bg-secondary) 100%) !important;
  position: relative;
  box-sizing: border-box;
  /* æŠ¤çœ¼æ»šåŠ¨æ¡ */
  scrollbar-width: thin;
  scrollbar-color: var(--night-gold-dim) transparent;
  -webkit-overflow-scrolling: touch;
  overscroll-behavior: contain;
}

/* æŠ¤çœ¼æ»šåŠ¨æ¡æ ·å¼ */
.diary-book-body::-webkit-scrollbar,
.diary-preset-body::-webkit-scrollbar {
  width: 8px;
}

.diary-book-body::-webkit-scrollbar-track,
.diary-preset-body::-webkit-scrollbar-track {
  background: var(--night-bg-secondary);
  border-radius: 4px;
}

.diary-book-body::-webkit-scrollbar-thumb,
.diary-preset-body::-webkit-scrollbar-thumb {
  background-color: var(--night-gold-dim);
  border-radius: 4px;
  border: 1px solid var(--night-bg-content);
  transition: background-color var(--night-transition-normal) ease;
}

.diary-book-body::-webkit-scrollbar-thumb:hover,
.diary-preset-body::-webkit-scrollbar-thumb:hover {
  background-color: var(--night-gold-primary);
  box-shadow: 0 0 6px var(--night-glow-gold);
}

/* ========== å°é¢é¡µé¢æ ·å¼ - å¤œç©ºå°é¢ ========== */

/* å°é¢å®¹å™¨ */
.diary-book-cover {
  text-align: center;
  padding: 40px 30px !important;
  background: 
    /* æ˜Ÿç©ºæ¸å˜èƒŒæ™¯ */
    radial-gradient(ellipse 600px 300px at 50% -100px, rgba(212, 165, 116, 0.12) 0%, transparent 60%), 
    linear-gradient(135deg, 
      var(--night-bg-secondary) 0%, 
      var(--night-bg-content) 50%, 
      #1f1f1f 100%) !important;
  margin: 0 !important;
  border: 2px solid var(--night-gold-primary) !important;
  border-radius: 12px !important;
  position: relative !important;
  transition: all var(--night-transition-normal) ease;
  box-shadow: 
    0 8px 25px var(--night-shadow-soft), 
    inset 0 2px 0 rgba(212, 165, 116, 0.3),
    0 0 30px var(--night-glow-gold) !important;
  min-height: auto !important;
}

/* å°é¢æ˜Ÿç©ºè£…é¥°è¾¹æ¡† */
.diary-book-cover::before {
  content: '';
  position: absolute;
  inset: 8px;
  border: 1px solid rgba(212, 165, 116, 0.3);
  border-radius: 8px;
  box-shadow: inset 0 0 0 4px rgba(232, 213, 183, 0.1);
  background: 
    /* å¤œç©ºæ¨ªçº¿çº¹ç† */
    repeating-linear-gradient(0deg, 
      transparent, 
      transparent 26px, 
      rgba(212, 165, 116, 0.04) 26px, 
      rgba(212, 165, 116, 0.04) 28px
    ), 
    /* æœˆå…‰ç…§å°„æ•ˆæœ */
    radial-gradient(400px 200px at 20% 0%, rgba(232, 213, 183, 0.08) 0%, transparent 60%), 
    radial-gradient(400px 200px at 80% 100%, rgba(212, 165, 116, 0.06) 0%, transparent 60%);
  pointer-events: none;
}

/* å°é¢è£…è®¢çº¿ */
.diary-book-cover::after {
  content: '';
  position: absolute;
  top: 0;
  left: 25px;
  bottom: 0;
  width: 3px;
  background: 
    linear-gradient(to bottom, 
      rgba(212, 165, 116, 0.2), 
      var(--night-gold-dim), 
      rgba(212, 165, 116, 0.2)
    );
  box-shadow: 
    2px 0 0 rgba(232, 213, 183, 0.2), 
    -2px 0 0 rgba(42, 42, 42, 0.3);
  pointer-events: none;
}

.diary-book-cover:hover {
  transform: translateY(-3px) scale(1.01) !important;
  box-shadow: 
    0 15px 40px var(--night-shadow-medium), 
    inset 0 3px 0 rgba(212, 165, 116, 0.4),
    0 0 50px var(--night-glow-gold) !important;
}

/* å°é¢å†…å®¹å®¹å™¨ */
.diary-book-cover-content {
  position: relative;
  padding: 6px 8px;
  z-index: 2;
}

/* å°é¢æ ‡é¢˜ - å¤œç©ºä¸­çš„é‡‘è‰²æ–‡å­— */
.diary-book-cover-title {
  font-size: 32px !important;
  font-weight: 800 !important;
  color: var(--night-gold-accent) !important;
  margin-bottom: 16px !important;
  text-shadow: 
    2px 2px 4px var(--night-shadow-deep),
    0 0 20px var(--night-glow-gold),
    0 0 40px rgba(212, 165, 116, 0.3) !important;
  letter-spacing: 1px !important;
  font-family: 'Georgia', 'Times New Roman', serif !important;
  position: relative;
  animation: nightBreathe 4s ease-in-out infinite;
}

/* å°é¢å‰¯æ ‡é¢˜ */
.diary-book-cover-subtitle {
  font-size: 14px !important;
  color: var(--night-text-secondary) !important;
  font-style: italic !important;
  text-shadow: 
    1px 1px 2px var(--night-shadow-soft),
    0 0 10px var(--night-glow-warm) !important;
  position: relative;
  font-family: 'Georgia', 'Times New Roman', serif !important;
  line-height: 1.4 !important;
  margin-bottom: 24px !important;
}

/* è¿›å…¥æŒ‰é’® - æ˜Ÿå…‰è¿›å…¥é—¨æˆ· */
.diary-book-cover-button {
  background: 
    linear-gradient(135deg, 
      var(--night-gold-dim) 0%, 
      var(--night-gold-primary) 50%, 
      var(--night-gold-secondary) 100%) !important;
  color: var(--night-bg-primary) !important;
  border: 2px solid var(--night-gold-primary) !important;
  padding: 14px 28px !important;
  border-radius: 25px !important;
  cursor: pointer;
  font-size: 14px !important;
  font-weight: 700 !important;
  transition: all var(--night-transition-normal) ease;
  text-shadow: 0 1px 2px var(--night-shadow-soft) !important;
  box-shadow: 
    0 4px 15px var(--night-shadow-soft),
    0 0 20px var(--night-glow-gold),
    inset 0 1px 0 rgba(255, 255, 255, 0.2) !important;
  font-family: 'Georgia', 'Times New Roman', serif !important;
  position: relative;
  display: inline-block;
  overflow: hidden;
}

/* è¿›å…¥æŒ‰é’®æ˜Ÿå…‰æ•ˆæœ */
.diary-book-cover-button::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, 
    transparent, 
    rgba(255, 255, 255, 0.4), 
    transparent
  );
  transition: left var(--night-transition-slow) ease;
}

.diary-book-cover-button:hover {
  background: 
    linear-gradient(135deg, 
      var(--night-gold-primary) 0%, 
      var(--night-gold-accent) 50%, 
      var(--night-gold-primary) 100%) !important;
  transform: translateY(-2px) scale(1.05) !important;
  box-shadow: 
    0 8px 25px var(--night-shadow-medium),
    0 0 35px var(--night-glow-gold),
    inset 0 2px 0 rgba(255, 255, 255, 0.3) !important;
  color: var(--night-bg-primary) !important;
}

.diary-book-cover-button:hover::before {
  left: 100%;
}

/* ========== åˆ—è¡¨å®¹å™¨æ ·å¼ - å¤œé—´åˆ—è¡¨ ========== */

/* è§’è‰²åˆ—è¡¨å®¹å™¨ */
.diary-book-character-list,
.diary-book-diary-list,
.diary-book-detail {
  background: 
    linear-gradient(135deg, 
      var(--night-bg-content) 0%, 
      var(--night-bg-secondary) 50%, 
      #1f1f1f 100%) !important;
  padding: 30px 25px !important;
  border: 2px solid var(--night-gold-primary) !important;
  margin: 15px !important;
  border-radius: 12px !important;
  position: relative;
  box-shadow: 
    inset 0 2px 6px var(--night-shadow-soft),
    inset 0 -1px 0 rgba(212, 165, 116, 0.2),
    0 8px 25px var(--night-shadow-soft) !important;
  overflow: hidden;
}

/* åˆ—è¡¨çº¹ç†èƒŒæ™¯ */
.diary-book-character-list::before,
.diary-book-diary-list::before,
.diary-book-detail::before {
  content: '';
  position: absolute;
  top: 15px;
  left: 15px;
  right: 15px;
  bottom: 15px;
  border: 1px dashed rgba(212, 165, 116, 0.2);
  border-radius: 8px;
  pointer-events: none;
}

/* åˆ—è¡¨æ¨ªçº¿çº¹ç† */
.diary-book-character-list::after,
.diary-book-diary-list::after,
.diary-book-detail::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: 
    repeating-linear-gradient(
      0deg,
      transparent,
      transparent 26px,
      rgba(212, 165, 116, 0.03) 26px,
      rgba(212, 165, 116, 0.03) 28px
    );
  pointer-events: none;
}

/* ========== å¡ç‰‡æ ·å¼ - æ˜Ÿå…‰å¡ç‰‡ ========== */

/* è§’è‰²å¡ç‰‡æ ·å¼ */
.diary-book-character-card {
  background: 
    linear-gradient(135deg, 
      var(--night-bg-secondary) 0%, 
      var(--night-bg-content) 50%, 
      #1f1f1f 100%) !important;
  border: 2px solid var(--night-border-primary) !important;
  border-radius: 12px !important;
  padding: 20px 18px !important;
  cursor: pointer;
  transition: all var(--night-transition-slow) ease;
  text-align: center;
  position: relative;
  overflow: hidden;
  box-shadow: 
    0 4px 12px var(--night-shadow-soft),
    inset 0 1px 0 rgba(212, 165, 116, 0.2),
    inset 0 -1px 0 rgba(26, 26, 26, 0.6) !important;
}

/* è§’è‰²å¡ç‰‡å†…è¾¹æ¡† */
.diary-book-character-card::before {
  content: '';
  position: absolute;
  top: 8px;
  left: 8px;
  right: 8px;
  bottom: 8px;
  border: 1px solid rgba(212, 165, 116, 0.15);
  border-radius: 8px;
  background: 
    radial-gradient(circle at 50% 50%, rgba(232, 213, 183, 0.04) 0%, transparent 70%);
  transform: scale(0.98);
  transition: all var(--night-transition-normal) ease;
  pointer-events: none;
}

/* è§’è‰²å¡ç‰‡æ˜Ÿå…‰è£…é¥° */
.diary-book-character-card::after {
  content: 'âœ¦';
  position: absolute;
  top: 12px;
  right: 12px;
  color: rgba(212, 165, 116, 0.3);
  font-size: 14px;
  transform: rotate(0deg);
  transition: all var(--night-transition-normal) ease;
  text-shadow: 0 0 8px var(--night-glow-gold);
}

.diary-book-character-card:hover {
  background: 
    linear-gradient(135deg, 
      var(--night-bg-content) 0%, 
      var(--night-bg-secondary) 50%, 
      #2a2a2a 100%) !important;
  transform: translateY(-4px) scale(1.02) !important;
  box-shadow: 
    0 12px 30px var(--night-shadow-medium),
    inset 0 2px 0 rgba(212, 165, 116, 0.3),
    0 0 0 2px rgba(212, 165, 116, 0.1),
    0 0 25px var(--night-glow-gold) !important;
  border-color: var(--night-gold-primary) !important;
}

.diary-book-character-card:hover::before {
  transform: scale(1);
  background: 
    radial-gradient(circle at 50% 50%, rgba(232, 213, 183, 0.08) 0%, transparent 70%);
}

.diary-book-character-card:hover::after {
  transform: rotate(180deg) scale(1.2);
  color: var(--night-gold-accent);
}

/* è§’è‰²åç§° */
.diary-book-character-name {
  font-size: 16px !important;
  font-weight: 700 !important;
  color: var(--night-text-primary) !important;
  margin-bottom: 8px !important;
  font-family: 'Georgia', 'Times New Roman', serif !important;
  text-shadow: 
    1px 1px 2px var(--night-shadow-soft),
    0 0 10px var(--night-glow-warm);
  position: relative;
  z-index: 2;
}

/* è§’è‰²ç»Ÿè®¡ä¿¡æ¯ */
.diary-book-character-count {
  font-size: 12px !important;
  color: var(--night-gold-secondary) !important;
  font-style: italic !important;
  font-weight: 500 !important;
  text-shadow: 0 1px 2px var(--night-shadow-soft);
}

/* æ—¥è®°å¡ç‰‡æ ·å¼ */
.diary-book-diary-card {
  background: 
    linear-gradient(135deg, 
      var(--night-bg-secondary) 0%, 
      var(--night-bg-content) 100%) !important;
  border: 2px solid var(--night-border-primary) !important;
  border-radius: 10px !important;
  padding: 16px 14px !important;
  cursor: pointer;
  transition: all var(--night-transition-normal) ease;
  text-align: left;
  position: relative;
  overflow: hidden;
  box-shadow: 
    0 3px 10px var(--night-shadow-soft),
    inset 0 1px 0 rgba(212, 165, 116, 0.15) !important;
}

/* æ—¥è®°å¡ç‰‡å·¦ä¾§è£…é¥°çº¿ */
.diary-book-diary-card::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 4px;
  background: linear-gradient(to bottom, 
    var(--night-gold-dim), 
    var(--night-gold-primary), 
    var(--night-gold-dim)
  );
  border-radius: 10px 0 0 10px;
  transform: scaleY(0);
  transition: transform var(--night-transition-normal) ease;
}

/* æ—¥è®°å¡ç‰‡æ˜Ÿå…‰è£…é¥° */
.diary-book-diary-card::after {
  content: 'âœ§';
  position: absolute;
  top: 12px;
  right: 12px;
  color: rgba(212, 165, 116, 0.2);
  font-size: 12px;
  transform: scale(0) rotate(0deg);
  transition: all var(--night-transition-normal) ease;
  text-shadow: 0 0 6px var(--night-glow-gold);
}

.diary-book-diary-card:hover {
  background: 
    linear-gradient(135deg, 
      var(--night-bg-content) 0%, 
      var(--night-bg-secondary) 100%) !important;
  transform: translateY(-3px) scale(1.01) !important;
  box-shadow: 
    0 8px 20px var(--night-shadow-medium),
    inset 0 2px 0 rgba(212, 165, 116, 0.25),
    0 0 0 1px rgba(212, 165, 116, 0.1),
    0 0 15px var(--night-glow-gold) !important;
  border-color: var(--night-gold-primary) !important;
}

.diary-book-diary-card:hover::before {
  transform: scaleY(1);
}

.diary-book-diary-card:hover::after {
  transform: scale(1) rotate(180deg);
  color: var(--night-gold-accent);
}

/* æ—¥è®°æ ‡é¢˜ */
.diary-book-diary-title {
  font-size: 14px !important;
  font-weight: 600 !important;
  color: var(--night-text-primary) !important;
  margin-bottom: 6px !important;
  font-family: 'Georgia', 'Times New Roman', serif !important;
  text-shadow: 1px 1px 2px var(--night-shadow-soft);
  width: calc(100% - 25px);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  display: block;
}

/* æ—¥è®°æ—¶é—´ */
.diary-book-diary-time {
  font-size: 11px !important;
  color: var(--night-gold-secondary) !important;
  font-style: italic !important;
  font-weight: 400 !important;
  text-shadow: 0 1px 1px var(--night-shadow-soft);
}

/* ========== è¯¦æƒ…é¡µé¢æ ·å¼ - æŠ¤çœ¼é˜…è¯» ========== */

/* è¯¦æƒ…é¡µé¢å†…å®¹å®¹å™¨ */
.diary-book-detail-page {
  background: 
    linear-gradient(135deg, 
      rgba(26, 26, 26, 0.6) 0%, 
      rgba(22, 22, 22, 0.8) 100%) !important;
  padding: 25px 20px !important;
  border-radius: 8px !important;
  border: 1px solid var(--night-border-primary) !important;
  min-height: 300px;
  position: relative;
  box-shadow: inset 0 1px 4px var(--night-shadow-soft) !important;
}

/* è¯¦æƒ…æ ‡é¢˜ */
.diary-book-detail-title {
  font-size: 22px !important;
  font-weight: 700 !important;
  color: var(--night-gold-accent) !important;
  margin-bottom: 16px !important;
  text-align: center !important;
  border-bottom: 2px solid var(--night-gold-primary) !important;
  padding-bottom: 12px !important;
  font-family: 'Georgia', 'Times New Roman', serif !important;
  position: relative;
  text-shadow: 
    1px 1px 3px var(--night-shadow-soft),
    0 0 15px var(--night-glow-gold);
}

/* è¯¦æƒ…æ ‡é¢˜è£…é¥° */
.diary-book-detail-title::before,
.diary-book-detail-title::after {
  content: 'âœ¿';
  position: absolute;
  color: var(--night-gold-primary);
  font-size: 14px;
  top: 50%;
  transform: translateY(-50%);
  animation: nightSparkle 4s ease-in-out infinite;
  text-shadow: 0 0 8px var(--night-glow-gold);
}

.diary-book-detail-title::before {
  left: 15px;
}

.diary-book-detail-title::after {
  right: 15px;
  animation-delay: 2s;
}

/* è¯¦æƒ…æ—¶é—´ */
.diary-book-detail-time {
  font-size: 13px !important;
  color: var(--night-gold-secondary) !important;
  text-align: center !important;
  margin-bottom: 20px !important;
  font-style: italic !important;
  font-weight: 500 !important;
  font-family: 'Georgia', 'Times New Roman', serif !important;
  text-shadow: 0 1px 2px var(--night-shadow-soft);
}

/* è¯¦æƒ…å†…å®¹æ–‡æœ¬ - æŠ¤çœ¼ä¼˜åŒ– */
.diary-book-detail-text {
  font-size: 15px !important;
  line-height: 1.7 !important;
  color: var(--night-text-primary) !important;
  background: 
    linear-gradient(135deg, 
      var(--night-bg-secondary) 0%, 
      var(--night-bg-content) 100%) !important;
  padding: 20px !important;
  border-radius: 8px !important;
  border: 1px solid var(--night-border-primary) !important;
  white-space: pre-wrap;
  box-shadow: 
    inset 0 2px 6px var(--night-shadow-soft),
    inset 0 -1px 0 rgba(212, 165, 116, 0.15) !important;
  font-family: 'Georgia', 'Times New Roman', serif !important;
  position: relative;
  margin-top: 15px;
  /* æŠ¤çœ¼æ–‡æœ¬æ¸²æŸ“ */
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* è¯¦æƒ…æ–‡æœ¬å·¦ä¾§è£…é¥°çº¿ */
.diary-book-detail-text::before {
  content: '';
  position: absolute;
  left: -25px;
  top: 0;
  bottom: 0;
  width: 2px;
  background: rgba(212, 165, 116, 0.3);
  border-radius: 2px;
}

.diary-book-detail-text p {
  margin-bottom: 12px;
  text-indent: 2em;
  font-family: inherit !important;
  color: inherit !important;
  text-shadow: 0 1px 2px var(--night-shadow-soft);
}

.diary-book-detail-text p:last-child {
  margin-bottom: 0;
}

/* ç©ºçŠ¶æ€æ ·å¼ */
.diary-book-detail-empty,
.diary-book-empty-state {
  color: var(--night-text-tertiary);
  font-style: italic;
  text-align: center;
  margin: 40px 0;
  font-size: 16px;
  text-shadow: 0 1px 2px var(--night-shadow-soft);
}

.diary-book-empty-icon {
  font-size: 48px;
  margin-bottom: 16px;
  opacity: 0.4;
  animation: nightBreathe 3s ease-in-out infinite;
}

.diary-book-empty-text {
  font-size: 18px !important;
  font-weight: 600 !important;
  color: var(--night-text-secondary) !important;
  margin-bottom: 8px !important;
  font-family: 'Georgia', 'Times New Roman', serif !important;
  text-shadow: 0 1px 2px var(--night-shadow-soft);
}

.diary-book-empty-hint {
  font-size: 14px !important;
  color: var(--night-text-tertiary) !important;
  font-family: 'Georgia', 'Times New Roman', serif !important;
  font-style: italic;
  line-height: 1.5;
}

/* ========================================= */
/* ğŸ¯ ç¬¬å››æ­¥å®Œæˆæ ‡è®°                         */
/* å†…å®¹åŒºåŸŸä¸æ–‡æœ¬æ˜¾ç¤ºå·²å»ºç«‹                   */
/* ä¸‹ä¸€æ­¥ï¼šäº¤äº’å…ƒç´ ä¸åŠ¨æ•ˆ                     */
/* ========================================= */

/* 
ğŸ“ ç¬¬å››æ­¥æ€»ç»“ï¼š
âœ… å®ŒæˆæŠ¤çœ¼çš„å†…å®¹èƒŒæ™¯è‰²è®¾è®¡
âœ… ä¼˜åŒ–æ–‡å­—å¯¹æ¯”åº¦å’Œå¯è¯»æ€§
âœ… å®ç°æš–è‰²è°ƒçš„æ–‡æœ¬æ¸²æŸ“
âœ… åˆ›å»ºå¤œé—´å‹å¥½çš„åˆ—è¡¨å’Œå¡ç‰‡æ ·å¼
âœ… è®¾è®¡æ˜Ÿå…‰è£…é¥°çš„å¡ç‰‡æ•ˆæœ

ğŸ“– æ ¸å¿ƒç‰¹è‰²ï¼š
- æŠ¤çœ¼æ»šåŠ¨æ¡è®¾è®¡
- æ˜Ÿå…‰å¡ç‰‡åŠ¨æ•ˆ
- æ¸©æ¶¦æ–‡æœ¬æ¸²æŸ“
- æœˆå…‰çº¸å¼ çº¹ç†
- å‘¼å¸åŠ¨ç”»æ•ˆæœ
*/

/* ========================================= */
/* âš¡ ç¬¬äº”æ­¥ï¼šäº¤äº’å…ƒç´ ä¸åŠ¨æ•ˆ                  */
/* ========================================= */

/*
ğŸ¯ ç¬¬äº”æ­¥ç›®æ ‡ï¼š
- è®¾è®¡å¤œé—´å‹å¥½çš„æŒ‰é’®æ ·å¼
- æ·»åŠ æŸ”å’Œçš„æ‚¬åœæ•ˆæœå’Œè¿‡æ¸¡åŠ¨ç”»
- å®ç°é‡‘è‰²ç‚¹ç¼€çš„å¾®å¦™é—ªçƒæ•ˆæœ
- åˆ›å»ºé¢„è®¾å’Œè‡ªå®šä¹‰è§’è‰²å¼¹çª—çš„å¤œé—´æ ·å¼
*/

/* ========== é¢„è®¾å¯¹è¯æ¡†æ ·å¼ - å¤œç©ºé¢„è®¾ ========== */

/* é¢„è®¾å¯¹è¯æ¡†é®ç½© - ç»§æ‰¿ä¸»å¼¹çª—æ ·å¼ */
.diary-preset-dialog {
  /* é®ç½©æ ·å¼å·²åœ¨ä¸»å¼¹çª—ä¸­å®šä¹‰ */
}

/* é¢„è®¾å†…å®¹å®¹å™¨ - ç»§æ‰¿ä¸»å¼¹çª—æ ·å¼ */
.diary-preset-content {
  /* å®¹å™¨æ ·å¼å·²åœ¨ä¸»å¼¹çª—ä¸­å®šä¹‰ */
}

/* é¢„è®¾ä¿¡æ¯æ¡† - å¤œé—´ä¿¡æ¯å±•ç¤º */
.diary-preset-info-box {
  border: 2px solid rgba(212, 165, 116, 0.3) !important;
  font-family: 'Georgia', 'Times New Roman', serif !important;
  background: 
    linear-gradient(135deg, 
      rgba(26, 26, 26, 0.6) 0%, 
      rgba(22, 22, 22, 0.8) 100%) !important;
  padding: 16px 18px !important;
  border-radius: 8px !important;
  margin-bottom: 15px !important;
  box-shadow: 
    0 2px 8px var(--night-shadow-soft),
    inset 0 1px 0 rgba(212, 165, 116, 0.2) !important;
  position: relative;
  overflow: hidden;
}

/* é¢„è®¾ä¿¡æ¯æ¡†æ˜Ÿå…‰è£…é¥° */
.diary-preset-info-box::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: 
    radial-gradient(circle at 90% 10%, rgba(212, 165, 116, 0.1) 0%, transparent 30%);
  pointer-events: none;
}

.diary-preset-system {
  border-color: var(--night-accent-info) !important;
  background: 
    linear-gradient(135deg, 
      rgba(116, 164, 212, 0.15) 0%, 
      rgba(26, 26, 26, 0.8) 100%) !important;
}

.diary-preset-selected-box {
  border-color: var(--night-gold-primary) !important;
  background: 
    linear-gradient(135deg, 
      rgba(212, 165, 116, 0.2) 0%, 
      rgba(26, 26, 26, 0.8) 100%) !important;
  animation: nightGlow 3s ease-in-out infinite;
}

.diary-preset-info-label {
  font-family: 'Georgia', 'Times New Roman', serif !important;
  font-size: 12px !important;
  font-weight: 600 !important;
  color: var(--night-text-secondary) !important;
  margin-bottom: 6px;
  text-shadow: 0 1px 2px var(--night-shadow-soft);
}

.diary-preset-info-value {
  font-family: 'Georgia', 'Times New Roman', serif !important;
  font-size: 15px !important;
  font-weight: 700 !important;
  color: var(--night-text-primary) !important;
  text-shadow: 0 1px 2px var(--night-shadow-soft);
}

.diary-preset-info-hint {
  font-family: 'Georgia', 'Times New Roman', serif !important;
  font-size: 11px !important;
  color: var(--night-text-tertiary) !important;
  margin-top: 6px;
  font-style: italic;
  text-shadow: 0 1px 1px var(--night-shadow-soft);
}

/* é¢„è®¾åˆ†éš”çº¿ */
.diary-preset-divider {
  border: none;
  border-top: 1px solid var(--night-border-primary) !important;
  margin: 20px 0 !important;
  opacity: 0.4;
  background: linear-gradient(to right, 
    transparent, 
    var(--night-gold-primary), 
    transparent);
  height: 1px;
}

/* é¢„è®¾åˆ—è¡¨æ ‡é¢˜ */
.diary-preset-list-title {
  font-size: 18px !important;
  font-weight: 700 !important;
  color: var(--night-gold-accent) !important;
  margin: 0 0 16px 0 !important;
  text-align: center !important;
  font-family: 'Georgia', 'Times New Roman', serif !important;
  text-shadow: 
    0 1px 3px var(--night-shadow-soft),
    0 0 10px var(--night-glow-gold);
}

/* é¢„è®¾åˆ—è¡¨é¡¹ - æ˜Ÿå…‰é¢„è®¾å¡ç‰‡ */
.diary-preset-item {
  background: 
    linear-gradient(135deg, 
      var(--night-bg-secondary) 0%, 
      var(--night-bg-content) 100%) !important;
  border: 2px solid var(--night-border-primary) !important;
  border-radius: 8px !important;
  padding: 14px 16px !important;
  cursor: pointer;
  transition: all var(--night-transition-normal) ease;
  position: relative;
  box-shadow: 
    0 2px 8px var(--night-shadow-soft),
    inset 0 1px 0 rgba(212, 165, 116, 0.15) !important;
  overflow: hidden;
}

/* é¢„è®¾é¡¹æ˜Ÿå…‰è£…é¥° */
.diary-preset-item::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: 
    radial-gradient(circle at 95% 5%, rgba(212, 165, 116, 0.06) 0%, transparent 40%);
  pointer-events: none;
  transition: all var(--night-transition-normal) ease;
}

.diary-preset-item:hover {
  background: 
    linear-gradient(135deg, 
      var(--night-bg-content) 0%, 
      var(--night-bg-secondary) 100%) !important;
  border-color: var(--night-gold-primary) !important;
  transform: translateX(3px) !important;
  box-shadow: 
    0 4px 15px var(--night-shadow-medium),
    inset 0 2px 0 rgba(212, 165, 116, 0.25),
    0 0 20px var(--night-glow-gold) !important;
}

.diary-preset-item:hover::before {
  background: 
    radial-gradient(circle at 95% 5%, rgba(212, 165, 116, 0.12) 0%, transparent 50%);
}

/* ç³»ç»Ÿå½“å‰é¢„è®¾é«˜äº® */
.diary-preset-item-current {
  background: 
    linear-gradient(135deg, 
      rgba(116, 164, 212, 0.15) 0%, 
      var(--night-bg-content) 100%) !important;
  border-color: var(--night-accent-info) !important;
}

/* ç”¨æˆ·é€‰ä¸­é¢„è®¾é«˜äº® */
.diary-preset-item-selected {
  background: 
    linear-gradient(135deg, 
      rgba(212, 165, 116, 0.2) 0%, 
      var(--night-bg-content) 100%) !important;
  border-color: var(--night-gold-primary) !important;
  box-shadow: 
    0 4px 15px var(--night-glow-gold),
    inset 0 2px 0 rgba(212, 165, 116, 0.3) !important;
}

.diary-preset-item-name {
  color: var(--night-text-primary) !important;
  font-family: 'Georgia', 'Times New Roman', serif !important;
  font-size: 14px !important;
  font-weight: 600 !important;
  text-shadow: 0 1px 2px var(--night-shadow-soft);
}

/* é¢„è®¾å¾½ç«  */
.diary-preset-badge {
  font-family: 'Georgia', 'Times New Roman', serif !important;
  padding: 3px 10px !important;
  border-radius: 10px !important;
  font-size: 11px !important;
  font-weight: 600 !important;
  margin-left: 6px !important;
  text-shadow: 0 1px 1px var(--night-shadow-soft);
}

.diary-preset-badge-current {
  background: 
    linear-gradient(135deg, var(--night-accent-info) 0%, #5a9fd4 100%) !important;
  color: var(--night-text-primary) !important;
  border: 1px solid var(--night-accent-info) !important;
  box-shadow: 0 2px 6px rgba(116, 164, 212, 0.3) !important;
}

.diary-preset-badge-selected {
  background: 
    linear-gradient(135deg, var(--night-gold-primary) 0%, var(--night-gold-accent) 100%) !important;
  color: var(--night-bg-primary) !important;
  border: 1px solid var(--night-gold-accent) !important;
  box-shadow: 0 2px 6px var(--night-glow-gold) !important;
}

/* é¢„è®¾åˆ†é¡µæ§ä»¶ */
.diary-preset-pagination {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 12px !important;
  margin-top: 20px !important;
  padding-top: 20px !important;
  border-top: 1px solid var(--night-border-primary) !important;
}

/* é¢„è®¾åˆ†é¡µæŒ‰é’® */
.diary-preset-page-btn {
  background: 
    linear-gradient(135deg, 
      var(--night-gold-dim) 0%, 
      var(--night-gold-primary) 50%, 
      var(--night-gold-secondary) 100%) !important;
  border: 2px solid var(--night-gold-primary) !important;
  color: var(--night-bg-primary) !important;
  padding: 8px 16px !important;
  border-radius: 16px !important;
  font-size: 12px !important;
  font-weight: 600 !important;
  font-family: 'Georgia', 'Times New Roman', serif !important;
  cursor: pointer;
  transition: all var(--night-transition-normal) ease;
  box-shadow: 
    0 2px 8px var(--night-shadow-soft),
    inset 0 1px 0 rgba(255, 255, 255, 0.1) !important;
}

.diary-preset-page-btn:hover:not(:disabled) {
  background: 
    linear-gradient(135deg, 
      var(--night-gold-primary) 0%, 
      var(--night-gold-accent) 50%, 
      var(--night-gold-primary) 100%) !important;
  transform: translateY(-1px);
  box-shadow: 
    0 4px 12px var(--night-shadow-medium),
    inset 0 1px 0 rgba(255, 255, 255, 0.2),
    0 0 15px var(--night-glow-gold) !important;
}

.diary-preset-page-btn:disabled {
  opacity: 0.4;
  cursor: not-allowed;
  background: var(--night-bg-tertiary) !important;
  border-color: var(--night-border-primary) !important;
  color: var(--night-text-tertiary) !important;
}

/* é¢„è®¾é¡µé¢ä¿¡æ¯ */
.diary-preset-page-info {
  color: var(--night-text-secondary) !important;
  font-family: 'Georgia', 'Times New Roman', serif !important;
  font-size: 13px !important;
  font-weight: 500 !important;
  text-shadow: 0 1px 2px var(--night-shadow-soft);
}

/* é¢„è®¾ç©ºçŠ¶æ€ */
.diary-preset-empty-state {
  text-align: center;
  padding: 50px 20px;
  color: var(--night-text-tertiary);
}

.diary-preset-empty-icon {
  font-size: 48px;
  margin-bottom: 16px;
  opacity: 0.3;
  animation: nightBreathe 4s ease-in-out infinite;
}

.diary-preset-empty-text {
  font-size: 16px !important;
  font-weight: 600 !important;
  color: var(--night-text-secondary) !important;
  margin-bottom: 8px !important;
  font-family: 'Georgia', 'Times New Roman', serif !important;
  text-shadow: 0 1px 2px var(--night-shadow-soft);
}

.diary-preset-empty-hint {
  font-size: 13px !important;
  color: var(--night-text-tertiary) !important;
  font-style: italic;
  font-family: 'Georgia', 'Times New Roman', serif !important;
}

/* ========== è‡ªå®šä¹‰è§’è‰²å¼¹çª—æ ·å¼ - å¤œç©ºè¾“å…¥ ========== */

/* è‡ªå®šä¹‰è§’è‰²å¼¹çª—æ ‡é¢˜æ  - ç»§æ‰¿ä¸»å¼¹çª—æ ·å¼ */
.diary-custom-character-header {
  /* æ ‡é¢˜æ æ ·å¼å·²åœ¨ä¸»å¼¹çª—ä¸­å®šä¹‰ */
}

.diary-custom-character-header h3 {
  color: var(--night-gold-accent) !important;
  text-shadow: 
    2px 2px 4px var(--night-shadow-deep),
    0 0 15px var(--night-glow-gold),
    0 0 30px rgba(212, 165, 116, 0.2) !important;
  letter-spacing: 0.5px !important;
  font-family: 'Georgia', 'Times New Roman', serif !important;
  margin: 0 !important;
  font-size: 18px !important;
  font-weight: 700 !important;
  position: relative !important;
  z-index: 1 !important;
}

/* è‡ªå®šä¹‰è§’è‰²å…³é—­æŒ‰é’® - ç»§æ‰¿ä¸»å¼¹çª—æ ·å¼ */
.diary-character-close {
  /* å…³é—­æŒ‰é’®æ ·å¼å·²åœ¨ä¸»å¼¹çª—ä¸­å®šä¹‰ */
}

/* å¼¹çª—å†…å®¹åŒºåŸŸ */
.diary-custom-character-body {
  padding: 25px 20px !important;
  text-align: center !important;
  position: relative;
  z-index: 2;
}

/* æç¤ºæ–‡å­— */
.diary-custom-character-body p {
  color: var(--night-text-secondary) !important;
  font-size: 13px !important;
  line-height: 1.5 !important;
  margin-bottom: 18px !important;
  padding-left: 15px !important;
  font-weight: 500 !important;
  text-shadow: 0 1px 2px var(--night-shadow-soft);
  font-family: 'Georgia', 'Times New Roman', serif !important;
}

/* è¾“å…¥æ¡†å®¹å™¨ */
.diary-custom-character-body > div:nth-child(2) {
  margin-bottom: 20px !important;
  padding-left: 15px !important;
}

/* è¾“å…¥æ¡† - å¤œé—´è¾“å…¥æ ·å¼ */
.diary-character-input {
  width: 100% !important;
  padding: 12px 16px !important;
  font-size: 14px !important;
  border: 2px solid var(--night-border-primary) !important;
  border-radius: 8px !important;
  background: var(--night-bg-content) !important;
  color: var(--night-text-primary) !important;
  box-shadow: inset 0 2px 4px var(--night-shadow-soft) !important;
  transition: all var(--night-transition-normal) ease !important;
  font-family: 'Georgia', 'Times New Roman', serif !important;
  font-weight: 500 !important;
}

.diary-character-input::placeholder {
  color: var(--night-text-tertiary) !important;
  font-weight: 400 !important;
  font-style: italic;
}

.diary-character-input:focus {
  outline: none !important;
  border-color: var(--night-gold-primary) !important;
  box-shadow: 
    0 0 0 2px var(--night-glow-gold),
    inset 0 2px 4px var(--night-shadow-soft) !important;
  background: var(--night-bg-secondary) !important;
}

.diary-character-input:hover {
  border-color: rgba(212, 165, 116, 0.4) !important;
  background: var(--night-bg-secondary) !important;
}

/* æŒ‰é’®åŒºåŸŸ */
.diary-custom-character-footer {
  display: flex !important;
  justify-content: center !important;
  gap: 12px !important;
  flex-wrap: nowrap !important;
  padding: 0 20px 25px 35px !important;
}

.diary-character-btn {
  padding: 10px 20px !important;
  border: none !important;
  border-radius: 8px !important;
  font-size: 13px !important;
  font-weight: 600 !important;
  cursor: pointer !important;
  transition: all var(--night-transition-normal) ease !important;
  min-width: 80px !important;
  font-family: 'Georgia', 'Times New Roman', serif !important;
  text-shadow: 0 1px 1px var(--night-shadow-soft);
}

/* å‘é€æŒ‰é’® - é‡‘è‰²ä¸»é¢˜ */
.diary-character-send {
  background: 
    linear-gradient(135deg, 
      var(--night-gold-dim) 0%, 
      var(--night-gold-primary) 50%, 
      var(--night-gold-secondary) 100%) !important;
  color: var(--night-bg-primary) !important;
  border: 2px solid var(--night-gold-primary) !important;
  box-shadow: 
    0 2px 8px var(--night-shadow-soft),
    inset 0 1px 0 rgba(255, 255, 255, 0.2) !important;
}

.diary-character-send:hover {
  background: 
    linear-gradient(135deg, 
      var(--night-gold-primary) 0%, 
      var(--night-gold-accent) 50%, 
      var(--night-gold-primary) 100%) !important;
  transform: translateY(-1px) !important;
  box-shadow: 
    0 4px 12px var(--night-shadow-medium),
    inset 0 1px 0 rgba(255, 255, 255, 0.3),
    0 0 15px var(--night-glow-gold) !important;
}

.diary-character-send:active {
  transform: translateY(0) !important;
  box-shadow: 
    0 2px 6px var(--night-shadow-soft),
    inset 0 1px 0 rgba(255, 255, 255, 0.2) !important;
}

/* å–æ¶ˆæŒ‰é’® - æš—è‰²ä¸»é¢˜ */
.diary-character-cancel {
  background: 
    linear-gradient(135deg, 
      var(--night-bg-tertiary) 0%, 
      var(--night-bg-secondary) 50%, 
      var(--night-bg-content) 100%) !important;
  color: var(--night-text-secondary) !important;
  border: 2px solid var(--night-border-primary) !important;
  box-shadow: 
    0 2px 8px var(--night-shadow-soft),
    inset 0 1px 0 rgba(212, 165, 116, 0.1) !important;
}

.diary-character-cancel:hover {
  background: 
    linear-gradient(135deg, 
      var(--night-bg-secondary) 0%, 
      var(--night-bg-content) 50%, 
      var(--night-bg-tertiary) 100%) !important;
  border-color: rgba(212, 165, 116, 0.4) !important;
  color: var(--night-text-primary) !important;
  transform: translateY(-1px) !important;
  box-shadow: 
    0 4px 12px var(--night-shadow-medium),
    inset 0 1px 0 rgba(212, 165, 116, 0.15) !important;
}

.diary-character-cancel:active {
  transform: translateY(0) !important;
  box-shadow: 
    0 2px 6px var(--night-shadow-soft),
    inset 0 1px 0 rgba(212, 165, 116, 0.1) !important;
}

/* ========== æ“ä½œæŒ‰é’®æ ·å¼ - å¤œé—´æ“ä½œ ========== */

/* åˆ†é¡µæ§ä»¶ */
.diary-book-pagination {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 12px !important;
  margin-top: 25px !important;
  padding-top: 20px !important;
  border-top: 2px solid var(--night-gold-primary) !important;
  position: relative;
}

/* åˆ†é¡µæŒ‰é’® */
.diary-book-page-btn {
  background: 
    linear-gradient(135deg, 
      var(--night-gold-dim) 0%, 
      var(--night-gold-primary) 50%, 
      var(--night-gold-secondary) 100%) !important;
  color: var(--night-bg-primary) !important;
  border: 2px solid var(--night-gold-primary) !important;
  padding: 8px 16px !important;
  border-radius: 16px !important;
  cursor: pointer;
  font-size: 12px !important;
  font-weight: 600 !important;
  transition: all var(--night-transition-normal) ease;
  text-shadow: 0 1px 2px var(--night-shadow-soft) !important;
  box-shadow: 
    0 2px 8px var(--night-shadow-soft),
    inset 0 1px 0 rgba(255, 255, 255, 0.1) !important;
  font-family: 'Georgia', 'Times New Roman', serif !important;
}

.diary-book-page-btn:hover:not(:disabled) {
  background: 
    linear-gradient(135deg, 
      var(--night-gold-primary) 0%, 
      var(--night-gold-accent) 50%, 
      var(--night-gold-primary) 100%) !important;
  transform: translateY(-2px) scale(1.05) !important;
  box-shadow: 
    0 4px 15px var(--night-shadow-medium),
    inset 0 1px 0 rgba(255, 255, 255, 0.2),
    0 0 20px var(--night-glow-gold) !important;
}

.diary-book-page-btn:disabled {
  background: var(--night-bg-tertiary) !important;
  border-color: var(--night-border-primary) !important;
  color: var(--night-text-tertiary) !important;
  cursor: not-allowed;
  transform: none !important;
  box-shadow: inset 0 1px 2px var(--night-shadow-soft) !important;
  opacity: 0.5;
}

/* åˆ†é¡µä¿¡æ¯ */
.diary-book-page-info {
  font-size: 13px !important;
  color: var(--night-text-secondary) !important;
  font-weight: 600 !important;
  font-family: 'Georgia', 'Times New Roman', serif !important;
  text-shadow: 0 1px 2px var(--night-shadow-soft);
}

/* åˆ é™¤æŒ‰é’® - å±é™©æ“ä½œæ ·å¼ */
.diary-book-delete-btn {
  background: 
    linear-gradient(135deg, 
      #6b2c2c 0%, 
      var(--night-accent-danger) 50%, 
      #5a1f1f 100%) !important;
  color: var(--night-text-primary) !important;
  border: 2px solid var(--night-accent-danger) !important;
  padding: 10px 24px !important;
  border-radius: 8px !important;
  font-size: 13px !important;
  font-weight: 700 !important;
  cursor: pointer;
  transition: all var(--night-transition-normal) ease;
  text-shadow: 
    1px 1px 2px var(--night-shadow-deep),
    0 0 10px rgba(212, 115, 122, 0.3) !important;
  box-shadow: 
    0 3px 12px rgba(212, 115, 122, 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.1),
    inset 0 -1px 0 rgba(0, 0, 0, 0.3),
    0 0 15px rgba(212, 115, 122, 0.2) !important;
  font-family: 'Georgia', 'Times New Roman', serif !important;
  position: relative;
  overflow: hidden;
  letter-spacing: 0.5px;
}

/* åˆ é™¤æŒ‰é’®è£…é¥°çº¹ç† */
.diary-book-delete-btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: 
    repeating-linear-gradient(
      45deg,
      transparent,
      transparent 8px,
      rgba(212, 115, 122, 0.1) 8px,
      rgba(212, 115, 122, 0.1) 16px
    );
  pointer-events: none;
}

/* åˆ é™¤æŒ‰é’®å†…è¾¹æ¡† */
.diary-book-delete-btn::after {
  content: '';
  position: absolute;
  top: 2px;
  left: 2px;
  right: 2px;
  bottom: 2px;
  border: 1px solid rgba(212, 115, 122, 0.4);
  border-radius: 6px;
  pointer-events: none;
}

.diary-book-delete-btn:hover {
  background: 
    linear-gradient(135deg, 
      var(--night-accent-danger) 0%, 
      #e85d6b 50%, 
      var(--night-accent-danger) 100%) !important;
  transform: translateY(-2px) scale(1.02) !important;
  box-shadow: 
    0 6px 20px rgba(212, 115, 122, 0.5),
    inset 0 2px 0 rgba(255, 255, 255, 0.15),
    inset 0 -1px 0 rgba(0, 0, 0, 0.4),
    0 0 25px rgba(212, 115, 122, 0.4),
    0 0 10px rgba(212, 115, 122, 0.2) !important;
  border-color: #e85d6b !important;
  text-shadow: 
    1px 1px 2px var(--night-shadow-deep),
    0 0 15px rgba(212, 115, 122, 0.5) !important;
}

.diary-book-delete-btn:active {
  transform: translateY(-1px) scale(1.01) !important;
  box-shadow: 
    0 3px 12px rgba(212, 115, 122, 0.4),
    inset 0 1px 3px rgba(0, 0, 0, 0.4),
    0 0 15px rgba(212, 115, 122, 0.3) !important;
}

/* ========================================= */
/* ğŸ¯ ç¬¬äº”æ­¥å®Œæˆæ ‡è®°                         */
/* äº¤äº’å…ƒç´ ä¸åŠ¨æ•ˆå·²å»ºç«‹                       */
/* ä¸‹ä¸€æ­¥ï¼šç§»åŠ¨ç«¯é€‚é…ä¸æœ€ç»ˆä¼˜åŒ–               */
/* ========================================= */

/* 
ğŸ“ ç¬¬äº”æ­¥æ€»ç»“ï¼š
âœ… å®Œæˆå¤œé—´å‹å¥½çš„æŒ‰é’®æ ·å¼è®¾è®¡
âœ… æ·»åŠ æŸ”å’Œçš„æ‚¬åœæ•ˆæœå’Œè¿‡æ¸¡åŠ¨ç”»
âœ… å®ç°é‡‘è‰²ç‚¹ç¼€çš„å¾®å¦™é—ªçƒæ•ˆæœ
âœ… åˆ›å»ºé¢„è®¾å¼¹çª—çš„å¤œé—´æ ·å¼
âœ… è®¾è®¡è‡ªå®šä¹‰è§’è‰²å¼¹çª—çš„æ˜Ÿç©ºè¾“å…¥

âš¡ æ ¸å¿ƒç‰¹è‰²ï¼š
- æ˜Ÿå…‰é¢„è®¾å¡ç‰‡
- é‡‘è‰²æŒ‰é’®åŠ¨æ•ˆ
- å±é™©æ“ä½œæç¤º
- å¤œé—´è¾“å…¥æ¡†
- æŸ”å’Œè¿‡æ¸¡åŠ¨ç”»
*/

/* ========================================= */
/* ğŸ“± ç¬¬å…­æ­¥ï¼šç§»åŠ¨ç«¯é€‚é…ä¸æœ€ç»ˆä¼˜åŒ–            */
/* ========================================= */

/*
ğŸ¯ ç¬¬å…­æ­¥ç›®æ ‡ï¼š
- é€‚é…ç§»åŠ¨è®¾å¤‡çš„å¤œé—´æ˜¾ç¤º
- ä¼˜åŒ–è§¦æ‘¸äº¤äº’ä½“éªŒ
- æœ€ç»ˆè°ƒè¯•å’Œæ€§èƒ½ä¼˜åŒ–
- å®Œå–„å“åº”å¼è®¾è®¡
*/

/* ========== ç§»åŠ¨ç«¯é€‚é… - å¤œé—´å‹å¥½ ========== */

/* ç§»åŠ¨ç«¯åŸºç¡€ä¼˜åŒ– */
@media (max-width: 768px) {
  
  /* ä¸»å¼¹çª—èƒŒæ™¯å¢å¼º */
  .diary-book-dialog,
  .diary-preset-dialog,
  .diary-custom-character-dialog {
    background: 
      /* ç§»åŠ¨ç«¯æ˜Ÿç©ºç²’å­æ•ˆæœï¼ˆä¼˜åŒ–ç‰ˆï¼‰ */
      radial-gradient(circle at 20% 10%, rgba(212, 165, 116, 0.2) 0%, transparent 2px),
      radial-gradient(circle at 80% 30%, rgba(212, 165, 116, 0.15) 0%, transparent 1px),
      radial-gradient(circle at 30% 70%, rgba(232, 213, 183, 0.15) 0%, transparent 1px),
      radial-gradient(circle at 70% 90%, rgba(212, 165, 116, 0.2) 0%, transparent 2px),
      /* æ·±é‚ƒå¤œç©ºæ¸å˜ï¼ˆç§»åŠ¨ç«¯å¢å¼ºï¼‰ */
      linear-gradient(145deg, 
        rgba(10, 10, 10, 0.98) 0%, 
        rgba(5, 5, 5, 0.99) 30%, 
        rgba(10, 10, 10, 0.98) 70%, 
        rgba(0, 0, 0, 1) 100%) !important;
    backdrop-filter: blur(10px) brightness(0.6) !important;
    -webkit-backdrop-filter: blur(10px) brightness(0.6) !important;
    height: 100vh;
    height: 100dvh;
  }
  
  /* ä¸ºä¸æ”¯æŒbackdrop-filterçš„ç§»åŠ¨æµè§ˆå™¨ */
  @supports not (backdrop-filter: blur(10px)) {
    .diary-book-dialog,
    .diary-preset-dialog,
    .diary-custom-character-dialog {
      background: 
        radial-gradient(circle at 20% 10%, rgba(212, 165, 116, 0.3) 0%, transparent 3px),
        radial-gradient(circle at 80% 30%, rgba(212, 165, 116, 0.25) 0%, transparent 2px),
        radial-gradient(circle at 30% 70%, rgba(232, 213, 183, 0.25) 0%, transparent 2px),
        radial-gradient(circle at 70% 90%, rgba(212, 165, 116, 0.3) 0%, transparent 3px),
        linear-gradient(145deg, 
          rgba(10, 10, 10, 0.99) 0%, 
          rgba(5, 5, 5, 1) 30%, 
          rgba(10, 10, 10, 0.99) 70%, 
          rgba(0, 0, 0, 1) 100%) !important;
    }
  }
  
  /* ä¸»å®¹å™¨ç§»åŠ¨ç«¯ä¼˜åŒ– */
  .diary-book-content,
  .diary-preset-content {
    width: 95% !important;
    min-width: 320px !important;
    max-width: 420px !important;
    max-height: 85vh;
    max-height: 85dvh;
    transform: scale(1) !important;
    box-shadow: 
      0 20px 80px var(--night-shadow-deep),
      0 10px 40px rgba(212, 165, 116, 0.25),
      0 5px 20px rgba(232, 213, 183, 0.2),
      inset 0 2px 0 rgba(212, 165, 116, 0.3),
      inset 0 -2px 0 rgba(26, 26, 26, 0.8),
      0 0 50px var(--night-glow-gold) !important;
    border-width: 2px !important;
  }
  
  .diary-book-content:hover,
  .diary-preset-content:hover {
    transform: scale(1) !important;
    box-shadow: 
      0 25px 100px var(--night-shadow-deep),
      0 15px 60px rgba(212, 165, 116, 0.3),
      0 8px 30px rgba(232, 213, 183, 0.25),
      inset 0 3px 0 rgba(212, 165, 116, 0.4),
      inset 0 -2px 0 rgba(26, 26, 26, 0.8),
      0 0 70px var(--night-glow-gold) !important;
  }
  
  /* å¼¹çª—å†…å®¹åŒºåŸŸç§»åŠ¨ç«¯ */
  .diary-book-body,
  .diary-preset-body {
    padding: 20px 15px !important;
    max-height: 55vh;
    max-height: 55dvh;
  }
  
  /* å°é¢ç§»åŠ¨ç«¯ä¼˜åŒ– */
  .diary-book-cover {
    margin: 0 !important;
    padding: 25px 20px !important;
    border-width: 2px !important;
    border-radius: 10px !important;
  }
  
  .diary-book-cover-title {
    font-size: 24px !important;
    margin-bottom: 12px !important;
  }
  
  .diary-book-cover-subtitle {
    font-size: 13px !important;
    margin-bottom: 18px !important;
  }
  
  .diary-book-cover-button {
    padding: 12px 24px !important;
    font-size: 13px !important;
  }
  
  /* å¯¼èˆªå¤´éƒ¨ç§»åŠ¨ç«¯è°ƒæ•´ */
  .diary-book-nav-header {
    padding: 12px 15px !important;
    flex-direction: row !important;
    gap: 10px !important;
  }
  
  .diary-book-nav-header::before,
  .diary-book-nav-header::after {
    font-size: 16px !important;
  }
  
  .diary-book-nav-header::before {
    left: 10px !important;
  }
  
  .diary-book-nav-header::after {
    right: 10px !important;
  }
  
  .diary-book-view-title {
    font-size: 16px !important;
    margin: 0 !important;
  }
  
  .diary-book-nav-btn {
    padding: 8px 16px !important;
    font-size: 12px !important;
    border-radius: 16px !important;
  }
  
  /* åˆ—è¡¨å®¹å™¨ç§»åŠ¨ç«¯ */
  .diary-book-character-list,
  .diary-book-diary-list,
  .diary-book-detail {
    padding: 20px 15px !important;
    margin: 10px !important;
    border-width: 2px !important;
    border-radius: 10px !important;
  }
  
  .diary-book-character-list::before,
  .diary-book-diary-list::before,
  .diary-book-detail::before {
    top: 10px !important;
    left: 10px !important;
    right: 10px !important;
    bottom: 10px !important;
    border-radius: 6px !important;
  }
  
  /* è§’è‰²å¡ç‰‡ç§»åŠ¨ç«¯ä¼˜åŒ– */
  .diary-book-character-card {
    padding: 16px 14px !important;
    border-width: 2px !important;
    border-radius: 10px !important;
  }
  
  .diary-book-character-card::before {
    top: 6px !important;
    left: 6px !important;
    right: 6px !important;
    bottom: 6px !important;
    border-radius: 6px !important;
  }
  
  .diary-book-character-card::after {
    top: 10px !important;
    right: 10px !important;
    font-size: 12px !important;
  }
  
  .diary-book-character-card:hover {
    transform: translateY(-2px) scale(1.01) !important;
    box-shadow: 
      0 8px 20px var(--night-shadow-medium),
      inset 0 2px 0 rgba(212, 165, 116, 0.25),
      0 0 0 1px rgba(212, 165, 116, 0.1),
      0 0 15px var(--night-glow-gold) !important;
  }
  
  .diary-book-character-name {
    font-size: 15px !important;
    margin-bottom: 6px !important;
  }
  
  .diary-book-character-count {
    font-size: 11px !important;
  }
  
  /* æ—¥è®°å¡ç‰‡ç§»åŠ¨ç«¯ä¼˜åŒ– */
  .diary-book-diary-card {
    padding: 14px 12px !important;
    border-width: 2px !important;
    border-radius: 8px !important;
  }
  
  .diary-book-diary-card:hover {
    transform: translateY(-2px) scale(1.005) !important;
    box-shadow: 
      0 6px 15px var(--night-shadow-medium),
      inset 0 1px 0 rgba(212, 165, 116, 0.2),
      0 0 0 1px rgba(212, 165, 116, 0.1),
      0 0 10px var(--night-glow-gold) !important;
  }
  
  .diary-book-diary-title {
    font-size: 13px !important;
    width: calc(100% - 20px) !important;
  }
  
  .diary-book-diary-time {
    font-size: 10px !important;
  }
  
  /* è¯¦æƒ…é¡µé¢ç§»åŠ¨ç«¯ */
  .diary-book-detail-page {
    padding: 20px 15px !important;
    border-radius: 6px !important;
  }
  
  .diary-book-detail-title {
    font-size: 18px !important;
    margin-bottom: 12px !important;
    padding-bottom: 8px !important;
    border-bottom-width: 2px !important;
  }
  
  .diary-book-detail-title::before {
    left: 10px !important;
    font-size: 12px !important;
  }
  
  .diary-book-detail-title::after {
    right: 10px !important;
    font-size: 12px !important;
  }
  
  .diary-book-detail-time {
    font-size: 12px !important;
    margin-bottom: 15px !important;
  }
  
  .diary-book-detail-text {
    font-size: 14px !important;
    line-height: 1.6 !important;
    padding: 15px !important;
    border-radius: 6px !important;
  }
  
  .diary-book-detail-text p {
    margin-bottom: 10px !important;
    text-indent: 1.5em !important;
  }
  
  /* é¢„è®¾ä¿¡æ¯æ¡†ç§»åŠ¨ç«¯ */
  .diary-preset-info-box {
    padding: 12px 14px !important;
    margin-bottom: 12px !important;
    border-radius: 6px !important;
  }
  
  .diary-preset-info-value {
    font-size: 14px !important;
  }
  
  .diary-preset-info-hint {
    font-size: 10px !important;
  }
  
  /* é¢„è®¾åˆ—è¡¨é¡¹ç§»åŠ¨ç«¯ */
  .diary-preset-item {
    padding: 12px 14px !important;
    border-radius: 6px !important;
  }
  
  .diary-preset-item:hover {
    transform: translateX(2px) !important;
  }
  
  .diary-preset-item-name {
    font-size: 13px !important;
  }
  
  .diary-preset-badge {
    padding: 2px 8px !important;
    font-size: 10px !important;
    margin-left: 4px !important;
  }
  
  /* è‡ªå®šä¹‰è§’è‰²å¼¹çª—ç§»åŠ¨ç«¯ */
  .diary-custom-character-content {
    width: 95% !important;
    max-width: 400px !important;
    min-width: unset !important;
    max-height: 85vh;
    max-height: 85dvh;
  }
  
  .diary-custom-character-body {
    padding: 20px 15px !important;
  }
  
  .diary-custom-character-body p {
    font-size: 12px !important;
    margin-bottom: 15px !important;
    padding-left: 10px !important;
  }
  
  .diary-character-input {
    padding: 10px 12px !important;
    font-size: 13px !important;
  }
  
  .diary-custom-character-footer {
    padding: 0 15px 20px 25px !important;
    flex-direction: row !important;
    gap: 10px !important;
  }
  
  .diary-character-btn {
    flex: 1 !important;
    max-width: 120px !important;
    padding: 10px 16px !important;
    font-size: 12px !important;
  }
  
  /* åˆ†é¡µæ§ä»¶ç§»åŠ¨ç«¯ */
  .diary-book-pagination,
  .diary-preset-pagination {
    gap: 10px !important;
    margin-top: 20px !important;
    padding-top: 15px !important;
  }
  
  .diary-book-page-btn,
  .diary-preset-page-btn {
    padding: 6px 12px !important;
    font-size: 11px !important;
    border-radius: 12px !important;
  }
  
  .diary-book-page-btn:hover:not(:disabled),
  .diary-preset-page-btn:hover:not(:disabled) {
    transform: translateY(-1px) scale(1.02) !important;
  }
  
  .diary-book-page-info,
  .diary-preset-page-info {
    font-size: 12px !important;
  }
  
  /* åˆ é™¤æŒ‰é’®ç§»åŠ¨ç«¯ */
  .diary-book-delete-btn {
    width: 100% !important;
    padding: 12px 20px !important;
    font-size: 14px !important;
  }
  
  .diary-book-delete-btn:hover {
    transform: translateY(-1px) scale(1.01) !important;
  }
  
  /* ç©ºçŠ¶æ€ç§»åŠ¨ç«¯ */
  .diary-book-empty-state,
  .diary-preset-empty-state {
    padding: 40px 15px !important;
  }
  
  .diary-book-empty-icon,
  .diary-preset-empty-icon {
    font-size: 40px !important;
    margin-bottom: 12px !important;
  }
  
  .diary-book-empty-text,
  .diary-preset-empty-text {
    font-size: 16px !important;
    margin-bottom: 6px !important;
  }
  
  .diary-book-empty-hint,
  .diary-preset-empty-hint {
    font-size: 13px !important;
  }
}

/* ========== å°å±å¹•è®¾å¤‡ä¼˜åŒ– ========== */
@media (max-width: 480px) {
  
  .diary-book-content,
  .diary-preset-content {
    width: 98% !important;
    min-width: 280px !important;
    max-width: 360px !important;
  }
  
  .diary-book-body,
  .diary-preset-body {
    padding: 15px 10px !important;
    max-height: 50vh;
    max-height: 50dvh;
  }
  
  .diary-book-cover {
    padding: 20px 15px !important;
  }
  
  .diary-book-cover-title {
    font-size: 20px !important;
    margin-bottom: 10px !important;
  }
  
  .diary-book-cover-subtitle {
    font-size: 12px !important;
    margin-bottom: 15px !important;
  }
  
  .diary-book-nav-header {
    padding: 10px 12px !important;
  }
  
  .diary-book-view-title {
    font-size: 15px !important;
  }
  
  .diary-book-character-list,
  .diary-book-diary-list,
  .diary-book-detail {
    padding: 15px 10px !important;
    margin: 8px !important;
  }
  
  .diary-book-character-card {
    padding: 12px 10px !important;
  }
  
  .diary-book-character-name {
    font-size: 14px !important;
  }
  
  .diary-book-diary-card {
    padding: 12px 10px !important;
  }
  
  .diary-book-diary-title {
    font-size: 12px !important;
  }
  
  .diary-book-detail-title {
    font-size: 16px !important;
  }
  
  .diary-book-detail-text {
    font-size: 13px !important;
    padding: 12px !important;
  }
  
  .diary-custom-character-content {
    max-width: 340px !important;
  }
  
  .diary-custom-character-body {
    padding: 15px 12px !important;
  }
  
  .diary-custom-character-footer {
    padding: 0 12px 15px 20px !important;
  }
}

/* ========== æ¨ªå±æ¨¡å¼ä¼˜åŒ– ========== */
@media (max-height: 500px) and (orientation: landscape) {
  
  .diary-book-body,
  .diary-preset-body {
    max-height: 40vh !important;
    min-height: 120px !important;
  }
  
  .diary-book-content,
  .diary-preset-content {
    max-height: 90vh;
    max-height: 90dvh;
  }
  
  .diary-custom-character-content {
    max-height: 85vh;
    max-height: 85dvh;
  }
}

/* ========================================= */
/* ğŸ¯ ç¬¬å…­æ­¥å®Œæˆæ ‡è®° - å¤œé—´æŠ¤çœ¼ä¸»é¢˜å®Œæˆ       */
/* ğŸŒ™ Night Theme for SillyTavern Diary     */
/* ========================================= */

/* 
ğŸ‰ å¤œé—´æŠ¤çœ¼ä¸»é¢˜å¼€å‘å®Œæˆï¼

ğŸ“ ç¬¬å…­æ­¥æ€»ç»“ï¼š
âœ… å®Œæˆç§»åŠ¨è®¾å¤‡çš„å¤œé—´æ˜¾ç¤ºé€‚é…
âœ… ä¼˜åŒ–è§¦æ‘¸äº¤äº’ä½“éªŒ
âœ… å®ç°å®Œæ•´çš„å“åº”å¼è®¾è®¡
âœ… æœ€ç»ˆè°ƒè¯•å’Œæ€§èƒ½ä¼˜åŒ–
âœ… å®Œå–„å°å±å¹•è®¾å¤‡æ”¯æŒ

ğŸŒŸ å®Œæ•´åŠŸèƒ½ç‰¹è‰²ï¼š
- æ·±é‚ƒæ˜Ÿç©ºèƒŒæ™¯ç³»ç»Ÿ
- é‡‘è‰²ç‚¹ç¼€è£…é¥°æ•ˆæœ
- æŠ¤çœ¼æ–‡æœ¬æ¸²æŸ“ä¼˜åŒ–
- æ˜Ÿå…‰ç²’å­åŠ¨ç”»
- å‘¼å¸åŠ¨æ•ˆå’Œå¾®å…‰æµè½¬
- å®Œæ•´çš„ç§»åŠ¨ç«¯é€‚é…
- å¤šçº§å“åº”å¼è®¾è®¡

ğŸ¨ æŠ¤çœ¼ä¼˜åŒ–ï¼š
- ä½è“å…‰è‰²å½©ç³»ç»Ÿ
- æš–è‰²è°ƒæ–‡æœ¬æ˜¾ç¤º
- æŸ”å’Œè¿‡æ¸¡åŠ¨ç”»
- å‡å°‘çœ¼éƒ¨ç–²åŠ³
- å¤œé—´å‹å¥½çš„äº¤äº’

ğŸ“± ç§»åŠ¨ç«¯æ”¯æŒï¼š
- å…¨é¢å“åº”å¼è®¾è®¡
- è§¦æ‘¸å‹å¥½çš„äº¤äº’
- æ¨ªå±æ¨¡å¼ä¼˜åŒ–
- å°å±å¹•è®¾å¤‡é€‚é…
- é«˜æ€§èƒ½æ¸²æŸ“
*/

/* 
ğŸŒ™ å¤œé—´æŠ¤çœ¼ä¸»é¢˜ v1.0.0 
åˆ›å»ºæ—¶é—´: 2024-11
è®¾è®¡ç†å¿µ: æ·±é‚ƒå¤œç©ºä¸­çš„æ¸©æš–æ˜Ÿå…‰
ä¸»è‰²è°ƒ: æ·±é»‘ (#0a0a0a) + æš–é‡‘ (#d4a574)
é€‚ç”¨: SillyTavern æ—¥è®°æœ¬æ’ä»¶
æŠ¤çœ¼ä¼˜åŒ–: ä½è“å…‰ + æš–è‰²è°ƒ + æŸ”å’ŒåŠ¨æ•ˆ
*/
